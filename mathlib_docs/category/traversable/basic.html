<!DOCTYPE html><html lang="en"><head><title>category.traversable.basic</title><meta charset="UTF-8"><link rel="stylesheet" href="/home/rob/lean/mathlib/scripts/html_out/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="/home/rob/lean/mathlib/scripts/html_out/index.html">root</a>/<br><a href="/home/rob/lean/mathlib/scripts/html_out/category/index.html">category</a>/<br><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/index.html">traversable</a>/<br><a href="basic.html">basic</a></div><div class="mod_doc"><h1>Traversable type class</h1>

<p>Type classes for traversing collections. The concepts and laws are taken from
http://hackage.haskell.org/package/base-4.11.1.0/docs/Data-Traversable.html</p>

<p>Traversable collections are a generalization of functors. Whereas
functors (such as <code>list</code>) allow us to apply a function to every
element, it does not allow functions which external effects encoded in
a monad. Consider for instance a functor <code>invite : email → <a href="/home/rob/lean/mathlib/scripts/html_out/core/system/io.html#io">io</a> response</code>
that takes an email address, sends an email and waits for a
response. If we have a list <code>guests : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a> email</code>, using calling
<code>invite</code> using <code>map</code> gives us the following: <code>map invite guests : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a>
(<a href="/home/rob/lean/mathlib/scripts/html_out/core/system/io.html#io">io</a> response)</code>.  It is not what we need. We need something of type <code>io
(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a> response)</code>. Instead of using <code>map</code>, we can use <code>traverse</code> to
send all the invites: <code>traverse invite guests : <a href="/home/rob/lean/mathlib/scripts/html_out/core/system/io.html#io">io</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a> response)</code>.
<code>traverse</code> applies <code>invite</code> to every element of <code>guests</code> and combines
all the resulting effects. In the example, the effect is encoded in the
monad <code>io</code> but any applicative functor is accepted by <code>traverse</code>.</p>

<p>For more on how to use traversable, consider the Haskell tutorial:
https://en.wikibooks.org/wiki/Haskell/Traversable</p>

<h2>Main definitions</h2>

<ul>
<li><code>traversable</code> type class - exposes the <code>traverse</code> function</li>
<li><code>sequence</code> - based on <code>traverse</code>, turns a collection of effects into an effect returning a collection</li>
<li>is_lawful_traversable - laws</li>
</ul>

<h2>Tags</h2>

<p>traversable iterator functor applicative</p>

<h2>References</h2>

<ul>
<li>"Applicative Programming with Effects", by Conor McBride and Ross Paterson, Journal of Functional Programming 18:1 (2008) 1-13, online at http://www.soi.city.ac.uk/~ross/papers/Applicative.html.</li>
<li>"The Essence of the Iterator Pattern", by Jeremy Gibbons and Bruno Oliveira, in Mathematically-Structured Functional Programming, 2006, online at http://web.comlab.ox.ac.uk/oucl/work/jeremy.gibbons/publications/#iterator.</li>
<li>"An Investigation of the Laws of Traversals", by Mauro Jaskelioff and Ondrej Rypacek, in Mathematically-Structured Functional Programming, 2012, online at http://arxiv.org/pdf/1202.2919.
Synopsis</li>
</ul>
</div><div class="cnst"><a id="applicative_transformation"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L61">applicative_transformation</a></span> <span class="decl_args">(F : Type u → Type v)</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> F _inst_1]</span> <span class="decl_args">(G : Type u → Type w)</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> G]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> G _inst_3]</span> <span class="decl_args">:</span>       <div class="decl_type">Type (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/algebra/functions.html#max">max</a> (u+1) v w)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="applicative_transformation.has_coe_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L73">applicative_transformation.has_coe_to_fun</a></span> <span class="decl_args">(F : Type u → Type v)</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> F]</span> <span class="decl_args">(G : Type u → Type w)</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> G]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> G]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/coe.html#has_coe_to_fun">has_coe_to_fun</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#applicative_transformation">applicative_transformation</a> F G)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="applicative_transformation.preserves_pure"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L81">applicative_transformation.preserves_pure</a></span> <span class="decl_args">{F : Type u → Type v}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> F]</span> <span class="decl_args">{G : Type u → Type w}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> G]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> G]</span> <span class="decl_args">(η : <a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#applicative_transformation">applicative_transformation</a> F G)</span> <span class="decl_args">{α : Type u}</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">⇑η (has_pure.pure x) = has_pure.pure x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="applicative_transformation.preserves_seq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L84">applicative_transformation.preserves_seq</a></span> <span class="decl_args">{F : Type u → Type v}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> F]</span> <span class="decl_args">{G : Type u → Type w}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> G]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> G]</span> <span class="decl_args">(η : <a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#applicative_transformation">applicative_transformation</a> F G)</span> <span class="decl_args">{α β : Type u}</span> <span class="decl_args">(x : F (α → β))</span> <span class="decl_args">(y : F α)</span> <span class="decl_args">:</span>       <div class="decl_type">⇑η (x <*> y) = ⇑η x <*> ⇑η y</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="applicative_transformation.preserves_map"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L89">applicative_transformation.preserves_map</a></span> <span class="decl_args">{F : Type u → Type v}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> F]</span> <span class="decl_args">{G : Type u → Type w}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> G]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/lawful.html#is_lawful_applicative">is_lawful_applicative</a> G]</span> <span class="decl_args">(η : <a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#applicative_transformation">applicative_transformation</a> F G)</span> <span class="decl_args">{α β : Type u}</span> <span class="decl_args">(x : α → β)</span> <span class="decl_args">(y : F α)</span> <span class="decl_args">:</span>       <div class="decl_type">⇑η (x <$> y) = x <$> ⇑η y</div>
<div class="indent"><p></p>
       </div>
</div><div class="cnst"><a id="traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L96">traversable</a></span> <span class="decl_args">(t : Type u → Type u)</span> <span class="decl_args">:</span>       <div class="decl_type">Type (u+1)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="sequence"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L113">sequence</a></span> <span class="decl_args">{t : Type u → Type u}</span> <span class="decl_args">{α : Type u}</span> <span class="decl_args">{f : Type u → Type u}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> f]</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> t]</span> <span class="decl_args">(a : t (f α))</span> <span class="decl_args">:</span>       <div class="decl_type">f (t α)</div>
<div class="indent"><p></p>
       </div>
</div><div class="cnst"><a id="is_lawful_traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L117">is_lawful_traversable</a></span> <span class="decl_args">(t : Type u → Type u)</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> t]</span> <span class="decl_args">:</span>       <div class="decl_type">Type (u+1)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="id.traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L132">id.traversable</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="id.is_lawful_traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L133">id.is_lawful_traversable</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#is_lawful_traversable">is_lawful_traversable</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="option.traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L139">option.traversable</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#option">option</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="list.traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L141">list.traversable</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="sum.traverse"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L151">sum.traverse</a></span> <span class="decl_args">{σ : Type u}</span> <span class="decl_args">{F : Type u → Type u}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/category/applicative.html#applicative">applicative</a> F]</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u}</span> <span class="decl_args">(f : α → F β)</span> <span class="decl_args">(a : σ ⊕ α)</span> <span class="decl_args">:</span>       <div class="decl_type">F (σ ⊕ β)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="sum.traversable"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/category/traversable/basic.lean#L157">sum.traversable</a></span> <span class="decl_args">{σ : Type u}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/category/traversable/basic.html#traversable">traversable</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#sum">sum</a> σ)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div></body></html>