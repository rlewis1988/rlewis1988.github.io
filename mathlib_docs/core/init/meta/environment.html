<!DOCTYPE html><html lang="en"><head><title>core.init.meta.environment</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="https://robertylewis.com/mathlib_docs/index.html">root</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/index.html">core</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/init/index.html">init</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/init/meta/index.html">meta</a>/<br><a href="environment.html">environment</a>      <br><br><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean">View file source</a></div><div class="mod_doc"><p></p>
</div><div class="cnst"><a id="environment"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L11">environment</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>An __environment__ contains all of the declarations and notation that have been defined so far.</p>
       

</div>
</div><div class="structure"><a id="environment.projection_info"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L41">environment.projection_info</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>Consider a type ψ which is an inductive datatype using a single constructor <code>mk (a : α) (b : β) : → ψ</code>.
Lean will automatically make two projection functions <code>a : ψ → α</code>, <code>b : ψ → β</code>.
Lean tags these declarations as __projections__.
This helps the simplifier / rewriter not have to expand projectors.
Eg <code>a (mk x y)</code> will automatically reduce to <code>x</code>.
If you <code>extend</code> a structure, all of the projections on the parent will also be created for the child.</p>

<p>[TODO] any other reasons Lean treats projections differently to regular declarations?
    I know that you get projection macros.
[TODO] Are there projections that aren't arguments to constructors?
[NOTE] projectors have nothing to do with the dot <code>mylist.map</code> syntax.</p>

<p>You can find out if a declaration is a projection using <code>environment.is_projection</code> which returns <code>projection_info</code>.</p>

<p>Data for a projection declaration:
- <code>cname</code>    is the name of the constructor associated with the projection.
- <code>nparams</code>  is the number of constructor parameters. Eg <code>and.intro</code> has two type parameters.
- <code>idx</code>      is the parameter being projected by this projection.
- <code>is_class</code> is tt iff this is a typeclass projection.</p>

<h3>Examples:</h3>

<ul>
<li><code>and.right</code> is a projection with <code>{cname := `and.intro, nparams := 2, idx := 1, is_class := ff}</code></li>
<li><code>ordered_ring.neg</code> is a projection with <code>{cname := `ordered_ring.mk, nparams := 1, idx := 5, is_class := tt}</code>.</li>
</ul>
       <div class="structure_fields">
Fields:
<div class="structure_field">environment.projection_info.cname : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="structure_field">environment.projection_info.nparams : ℕ</div>
<div class="structure_field">environment.projection_info.idx : ℕ</div>
<div class="structure_field">environment.projection_info.is_class : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
</div>

</div>
</div><div class="inductive"><a id="environment.implicit_infer_kind"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L55">environment.implicit_infer_kind</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>A marking on the binders of structures and inductives indicating
  how this constructor should mark its parameters.</p>

<pre><code>  inductive foo
  | one {} : foo -&gt; foo   -- relaxed_implicit
  | two ( ) : foo -&gt; foo   -- none
  | three : foo -&gt; foo    -- implicit (default)
</code></pre>
       
<div class="structure_fields">
Constructors:
<div class="structure_field">environment.implicit_infer_kind.implicit : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.implicit_infer_kind">environment.implicit_infer_kind</a></div>
<div class="structure_field">environment.implicit_infer_kind.relaxed_implicit : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.implicit_infer_kind">environment.implicit_infer_kind</a></div>
<div class="structure_field">environment.implicit_infer_kind.none : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.implicit_infer_kind">environment.implicit_infer_kind</a></div>
</div>
</div>
</div><div class="def"><a id="environment.implicit_infer_kind.inhabited"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L56">environment.implicit_infer_kind.inhabited</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/logic.html#inhabited">inhabited</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.implicit_infer_kind">environment.implicit_infer_kind</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div><div class="structure"><a id="environment.intro_rule"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L59">environment.intro_rule</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>One introduction rule in an inductive declaration</p>
       <div class="structure_fields">
Fields:
<div class="structure_field">environment.intro_rule.constr : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="structure_field">environment.intro_rule.type : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="structure_field">environment.intro_rule.infer : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.implicit_infer_kind">environment.implicit_infer_kind</a></div>
</div>

</div>
</div><div class="cnst"><a id="environment.mk_std"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L65">environment.mk_std</a></span> <span class="decl_args">(a : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p>Create a standard environment using the given trust level</p>
       

</div>
</div><div class="cnst"><a id="environment.trust_lvl"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L67">environment.trust_lvl</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">ℕ</div>
<div class="indent"><p>Return the trust level of the given environment</p>
       

</div>
</div><div class="cnst"><a id="environment.add"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L69">environment.add</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/declaration.html#declaration">declaration</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/exceptional.html#exceptional">exceptional</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p>Add a new declaration to the environment</p>
       

</div>
</div><div class="cnst"><a id="environment.get"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L71">environment.get</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/exceptional.html#exceptional">exceptional</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/declaration.html#declaration">declaration</a></div>
<div class="indent"><p>Retrieve a declaration from the environment</p>
       

</div>
</div><div class="def"><a id="environment.contains"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L72">environment.contains</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(d : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="environment.add_defn_eqns"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L78">environment.add_defn_eqns</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(opt : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/options.html#options">options</a>)</span> <span class="decl_args">(lp_params : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(params : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(sig : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(eqns : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a> bool.ff) × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>))</span> <span class="decl_args">(is_meta : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/exceptional.html#exceptional">exceptional</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="environment.add_namespace"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L83">environment.add_namespace</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p>Register the given name as a namespace, making it available to the <code>open</code> command</p>
       

</div>
</div><div class="cnst"><a id="environment.is_namespace"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L85">environment.is_namespace</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the given name is a namespace</p>
       

</div>
</div><div class="cnst"><a id="environment.add_inductive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L88">environment.add_inductive</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(levels : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(num_params : ℕ)</span> <span class="decl_args">(type : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(intros : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>))</span> <span class="decl_args">(is_meta : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/exceptional.html#exceptional">exceptional</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p>Add a new inductive datatype to the environment
  name, universe parameters, number of parameters, type, constructors (name and type), is_meta</p>
       

</div>
</div><div class="cnst"><a id="environment.add_ginductive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L104">environment.add_ginductive</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(opt : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/options.html#options">options</a>)</span> <span class="decl_args">(levels : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(params : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(inds : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> ((<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>) × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.intro_rule">environment.intro_rule</a>))</span> <span class="decl_args">(is_meta : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/exceptional.html#exceptional">exceptional</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p>Add a new general inductive declaration to the environment.
 This has the same effect as a <code>inductive</code> in the file, including generating
 all the auxiliary definitions, as well as triggering mutual/nested inductive
 compilation, by contrast to <code>environment.add_inductive</code> which only adds the
 core axioms supported by the kernel.</p>

<p>The <code>inds</code> argument should be a list of inductives in the mutual family.
 The first argument is a pair of the name of the type being constructed
 and the type of this inductive family (not including the params).
 The second argument is a list of intro rules, specified by a name, an
 <code>implicit_infer_kind</code> giving the implicitness of the params for this constructor,
 and an expression with the type of the constructor (not including the params).</p>
       

</div>
</div><div class="cnst"><a id="environment.is_inductive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L109">environment.is_inductive</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the given name is an inductive datatype</p>
       

</div>
</div><div class="cnst"><a id="environment.is_constructor"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L111">environment.is_constructor</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the given name is a constructor</p>
       

</div>
</div><div class="cnst"><a id="environment.is_recursor"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L113">environment.is_recursor</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the given name is a recursor</p>
       

</div>
</div><div class="cnst"><a id="environment.is_recursive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L115">environment.is_recursive</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the given name is a recursive inductive datatype</p>
       

</div>
</div><div class="cnst"><a id="environment.inductive_type_of"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L117">environment.inductive_type_of</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p>Return the name of the inductive datatype of the given constructor.</p>
       

</div>
</div><div class="cnst"><a id="environment.constructors_of"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L119">environment.constructors_of</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p>Return the constructors of the inductive datatype with the given name</p>
       

</div>
</div><div class="cnst"><a id="environment.recursor_of"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L121">environment.recursor_of</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p>Return the recursor of the given inductive datatype</p>
       

</div>
</div><div class="cnst"><a id="environment.inductive_num_params"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L123">environment.inductive_num_params</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">ℕ</div>
<div class="indent"><p>Return the number of parameters of the inductive datatype</p>
       

</div>
</div><div class="cnst"><a id="environment.inductive_num_indices"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L125">environment.inductive_num_indices</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">ℕ</div>
<div class="indent"><p>Return the number of indices of the inductive datatype</p>
       

</div>
</div><div class="cnst"><a id="environment.inductive_dep_elim"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L127">environment.inductive_dep_elim</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return tt iff the inductive datatype recursor supports dependent elimination</p>
       

</div>
</div><div class="cnst"><a id="environment.is_ginductive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L134">environment.is_ginductive</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Functionally equivalent to <code>is_inductive</code>.</p>

<p>Technically, this works by checking if the name is in the ginductive environment
extension which is outside the kernel, whereas <code>is_inductive</code> works by looking at the kernel extension.
But there are no <code>is_inductive</code>s which are not <code>is_ginductive</code>.</p>
       

</div>
</div><div class="cnst"><a id="environment.is_projection"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L136">environment.is_projection</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment.projection_info">environment.projection_info</a></div>
<div class="indent"><p>See the docstring for <code>projection_info</code>.</p>
       

</div>
</div><div class="cnst"><a id="environment.fold"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L138">environment.fold</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : α)</span> <span class="decl_args">(a_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/declaration.html#declaration">declaration</a> → α → α)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p>Fold over declarations in the environment.</p>
       

</div>
</div><div class="cnst"><a id="environment.relation_info"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L141">environment.relation_info</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> (ℕ × ℕ × ℕ)</div>
<div class="indent"><p><code>relation_info env n</code> returns some value if n is marked as a relation in the given environment.
  the tuple contains: total number of arguments of the relation, lhs position and rhs position.</p>
       

</div>
</div><div class="cnst"><a id="environment.refl_for"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L143">environment.refl_for</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p><code>refl_for env R</code> returns the name of the reflexivity theorem for the relation R</p>
       

</div>
</div><div class="cnst"><a id="environment.symm_for"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L145">environment.symm_for</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p><code>symm_for env R</code> returns the name of the symmetry theorem for the relation R</p>
       

</div>
</div><div class="cnst"><a id="environment.trans_for"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L147">environment.trans_for</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p><code>trans_for env R</code> returns the name of the transitivity theorem for the relation R</p>
       

</div>
</div><div class="cnst"><a id="environment.decl_olean"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L150">environment.decl_olean</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/data/string/basic.html#string">string</a></div>
<div class="indent"><p><code>decl_olean env d</code> returns the name of the .olean file where d was defined.
  The result is none if d was not defined in an imported file.</p>
       

</div>
</div><div class="cnst"><a id="environment.decl_pos"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L152">environment.decl_pos</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#pos">pos</a></div>
<div class="indent"><p><code>decl_pos env d</code> returns the source location of d if available.</p>
       

</div>
</div><div class="cnst"><a id="environment.structure_fields"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L154">environment.structure_fields</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</div>
<div class="indent"><p>Return the fields of the structure with the given name, or <code>none</code> if it is not a structure</p>
       

</div>
</div><div class="cnst"><a id="environment.get_class_attribute_symbols"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L158">environment.get_class_attribute_symbols</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></div>
<div class="indent"><p><code>get_class_attribute_symbols env attr_name</code> return symbols
  occurring in instances of type classes tagged with the attribute <code>attr_name</code>.
  Example: [algebra]</p>
       

</div>
</div><div class="cnst"><a id="environment.fingerprint"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L160">environment.fingerprint</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">ℕ</div>
<div class="indent"><p>The fingerprint of the environment is a hash formed from all of the declarations in the environment.</p>
       

</div>
</div><div class="cnst"><a id="environment.unfold_untrusted_macros"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L163">environment.unfold_untrusted_macros</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="environment.unfold_all_macros"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L164">environment.unfold_all_macros</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="environment.is_constructor_app"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L166">environment.is_constructor_app</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="environment.is_refl_app"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L169">environment.is_refl_app</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="environment.in_current_file"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L179">environment.in_current_file</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Return true if 'n' has been declared in the current file</p>
       

</div>
</div><div class="def"><a id="environment.is_definition"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L182">environment.is_definition</a></span> <span class="decl_args">(env : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a>)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="environment.has_repr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L190">environment.has_repr</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/repr.html#has_repr">has_repr</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div><div class="def"><a id="environment.inhabited"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/environment.lean#L193">environment.inhabited</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/logic.html#inhabited">inhabited</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div></body></html>