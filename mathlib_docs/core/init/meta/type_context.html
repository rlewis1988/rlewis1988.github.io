<!DOCTYPE html><html lang="en"><head><title>core.init.meta.type_context</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="https://robertylewis.com/mathlib_docs/index.html">root</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/index.html">core</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/init/index.html">init</a>/<br><a href="https://robertylewis.com/mathlib_docs/core/init/meta/index.html">meta</a>/<br><a href="type_context.html">type_context</a>      <br><br><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean">View file source</a></div><div class="mod_doc"><p></p>
</div><div class="cnst"><a id="tactic.unsafe.type_context"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L9">tactic.unsafe.type_context</a></span> <span class="decl_args">(a : Type)</span> <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>A monad that exposes the functionality of the C++ class <code>type_context</code>.
   The idea is that the methods in <code>tco</code> are more powerful but _unsafe_ in the
   sense that you can create terms that do not typecheck or that are infinitely descending.
   Under the hood, <code>tco</code> is implemented as a reader monad, with a mutable <code>type_context</code> object.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.bind"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L12">tactic.unsafe.type_context.bind</a></span> <span class="decl_args">{α β : Type}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">(a_1 : α → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> β</div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.pure"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L13">tactic.unsafe.type_context.pure</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.fail"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L14">tactic.unsafe.type_context.fail</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/format.html#format">format</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.failure"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L15">tactic.unsafe.type_context.failure</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.monad"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L16">tactic.unsafe.type_context.monad</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div><div class="def"><a id="tactic.unsafe.type_context.monad_fail"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L17">tactic.unsafe.type_context.monad_fail</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad_fail.html#monad_fail">monad_fail</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.get_env"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L18">tactic.unsafe.type_context.get_env</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/environment.html#environment">environment</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.whnf"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L19">tactic.unsafe.type_context.whnf</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_def_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L20">tactic.unsafe.type_context.is_def_eq</a></span> <span class="decl_args">(e₁ e₂ : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(approx : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a> bool.ff)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.unify"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L21">tactic.unsafe.type_context.unify</a></span> <span class="decl_args">(e₁ e₂ : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(approx : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a> bool.ff)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.infer"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L24">tactic.unsafe.type_context.infer</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>Infer the type of the given expr. Inferring the type does not mean that it typechecks.
   Will fail if type can't be inferred.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_stuck"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L29">tactic.unsafe.type_context.is_stuck</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p>A stuck expression <code>e</code> is an expression that _would_ reduce,
except that a metavariable is present that prevents the reduction.
Returns the metavariable which is causing the stuckage.
For example, <code>@has_add.add nat ?m a b</code> can't project because <code>?m</code> is not given.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.push_local"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L31">tactic.unsafe.type_context.push_local</a></span> <span class="decl_args">(pp_name : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(type : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(bi : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#binder_info">binder_info</a> binder_info.default)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>Add a local to the tc local context.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.pop_local"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L32">tactic.unsafe.type_context.pop_local</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.get_local_context"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L34">tactic.unsafe.type_context.get_local_context</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/local_context.html#local_context">local_context</a></div>
<div class="indent"><p>Get the local context of the type_context.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.mk_mvar"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L36">tactic.unsafe.type_context.mk_mvar</a></span> <span class="decl_args">(pp_name : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(type : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(context : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/local_context.html#local_context">local_context</a>) option.none)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>Create and declare a new metavariable. If the local context is not given then it will use the current local context.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.fold_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L38">tactic.unsafe.type_context.fold_mvars</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(f : α → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p>Iterate over all mvars in the mvar context.</p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.list_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L39">tactic.unsafe.type_context.list_mvars</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.assign"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L50">tactic.unsafe.type_context.assign</a></span> <span class="decl_args">(mvar assignment : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Set the mvar to the following assignments.
   Works for temporary metas too.
   [WARNING] <code>assign</code> does not perform certain checks:
    - No typecheck is done before assignment.
    - If the metavariable is already assigned this will clobber the assignment.
    - It will not stop you from assigning an metavariable to itself or creating cycles of metavariable assignments.
      These will manifest as 'deep recursion' exceptions when <code>instantiate_mvars</code> is used.
    - It is not checked whether the assignment uses local constants outside the declaration's context.
   You can avoid the unsafety by using <code>unify</code> instead.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.level.assign"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L51">tactic.unsafe.type_context.level.assign</a></span> <span class="decl_args">(mvar assignment : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_declared"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L53">tactic.unsafe.type_context.is_declared</a></span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Returns true if the given expression is a declared local constant or a declared metavariable.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_assigned"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L54">tactic.unsafe.type_context.is_assigned</a></span> <span class="decl_args">(mvar : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.get_context"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L55">tactic.unsafe.type_context.get_context</a></span> <span class="decl_args">(mvar : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/local_context.html#local_context">local_context</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.get_assignment"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L57">tactic.unsafe.type_context.get_assignment</a></span> <span class="decl_args">(mvar : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>Get the expression that is assigned to the given mvar expression. Fails if given a</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.instantiate_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L59">tactic.unsafe.type_context.instantiate_mvars</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.level.instantiate_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L60">tactic.unsafe.type_context.level.instantiate_mvars</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_tmp_mvar"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L62">tactic.unsafe.type_context.is_tmp_mvar</a></span> <span class="decl_args">(mvar : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.is_regular_mvar"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L63">tactic.unsafe.type_context.is_regular_mvar</a></span> <span class="decl_args">(mvar : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.tmp_mode"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L68">tactic.unsafe.type_context.tmp_mode</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(n_uvars n_mvars : ℕ)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p>Run the given <code>type_context</code> monad in a temporary mvar scope.
Doing this twice will push the old tmp_mvar assignments to a stack.
So it is safe to do this whether or not you are already in tmp mode.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.in_tmp_mode"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L71">tactic.unsafe.type_context.in_tmp_mode</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p>Returns true when in temp mode.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.tmp_is_assigned"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L72">tactic.unsafe.type_context.tmp_is_assigned</a></span> <span class="decl_args">(a : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.tmp_get_assignment"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L73">tactic.unsafe.type_context.tmp_get_assignment</a></span> <span class="decl_args">(a : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.level.tmp_is_assigned"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L75">tactic.unsafe.type_context.level.tmp_is_assigned</a></span> <span class="decl_args">(a : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.level.tmp_get_assignment"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L76">tactic.unsafe.type_context.level.tmp_get_assignment</a></span> <span class="decl_args">(a : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.to_tmp_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L79">tactic.unsafe.type_context.to_tmp_mvars</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p>Replace each metavariable in the given expression with a temporary metavariable.</p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.mk_tmp_mvar"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L80">tactic.unsafe.type_context.mk_tmp_mvar</a></span> <span class="decl_args">(index : ℕ)</span> <span class="decl_args">(type : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.level.mk_tmp_mvar"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L81">tactic.unsafe.type_context.level.mk_tmp_mvar</a></span> <span class="decl_args">(index : ℕ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.try"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L89">tactic.unsafe.type_context.try</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</div>
<div class="indent"><p>Run the provided type_context within a backtracking scope.
   This means that any changes to the metavariable context will not be committed if the
   inner monad fails.
   is not affected by <code>try</code>. Any unpopped locals will be present after the <code>try</code> even if the inner <code>type_context</code> failed.</p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.orelse"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L91">tactic.unsafe.type_context.orelse</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(a a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α</div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.type_context_alternative"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L94">tactic.unsafe.type_context.type_context_alternative</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#alternative">alternative</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a></div>
<div class="indent"><p></p>
       

Attributes: instance</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.run"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L99">tactic.unsafe.type_context.run</a></span> <span class="decl_args">{α : Type}</span> <span class="decl_args">(inner : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> α)</span> <span class="decl_args">(tr : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic.transparency">tactic.transparency</a> tactic.transparency.semireducible)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α</div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.trace"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L101">tactic.unsafe.type_context.trace</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/meta/format.html#has_to_format">has_to_format</a> α]</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="def"><a id="tactic.unsafe.type_context.print_mvars"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L104">tactic.unsafe.type_context.print_mvars</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       

</div>
</div><div class="cnst"><a id="tactic.unsafe.type_context.get_fun_info"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/lean/blob/ec7f75dd3f50fabe0c2c48f432ce65e4b90759cf/library/init/meta/type_context.lean#L110">tactic.unsafe.type_context.get_fun_info</a></span> <span class="decl_args">(f : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(nargs : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> ℕ) option.none)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/type_context.html#tactic.unsafe.type_context">tactic.unsafe.type_context</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/fun_info.html#fun_info">fun_info</a></div>
<div class="indent"><p>Same as tactic.get_fun_info</p>
       

</div>
</div></body></html>