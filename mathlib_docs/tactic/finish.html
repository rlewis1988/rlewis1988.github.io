<!DOCTYPE html><html lang="en"><head><title>tactic.finish</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><p></p>
</div><div class="def"><a id="tactic.assert_fresh"></a>      <span class="decl_name">tactic.assert_fresh</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.assertv_fresh"></a>      <span class="decl_name">tactic.assertv_fresh</span> <span class="decl_args">(t v : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.interactive.revert_all"></a>      <span class="decl_name">tactic.interactive.revert_all</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> ℕ</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.whnf_reducible"></a>      <span class="decl_name">auto.whnf_reducible</span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.add_simps"></a>      <span class="decl_name">auto.add_simps</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="cnst"><a id="auto.auto_config"></a>      <span class="decl_name">auto.auto_config</span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.by_contradiction_trick"></a>      <span class="decl_name">auto.by_contradiction_trick</span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">(h : ∀ (f : Prop), (p → f) → f)</span> <span class="decl_args">:</span>       <div class="decl_type">p</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.preprocess_goal"></a>      <span class="decl_name">auto.preprocess_goal</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_not_eq"></a>      <span class="decl_name">auto.not_not_eq</span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬¬p) = p</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_and_eq"></a>      <span class="decl_name">auto.not_and_eq</span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p ∧ q)) = (¬p ∨ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_or_eq"></a>      <span class="decl_name">auto.not_or_eq</span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p ∨ q)) = (¬p ∧ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_forall_eq"></a>      <span class="decl_name">auto.not_forall_eq</span> <span class="decl_args">{α : Type u}</span> <span class="decl_args">(s : α → Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬∀ (x : α), s x) = ∃ (x : α), ¬s x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_exists_eq"></a>      <span class="decl_name">auto.not_exists_eq</span> <span class="decl_args">{α : Type u}</span> <span class="decl_args">(s : α → Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬∃ (x : α), s x) = ∀ (x : α), ¬s x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.not_implies_eq"></a>      <span class="decl_name">auto.not_implies_eq</span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p → q)) = (p ∧ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="auto.classical.implies_iff_not_or"></a>      <span class="decl_name">auto.classical.implies_iff_not_or</span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">p → q ↔ ¬p ∨ q</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.common_normalize_lemma_names"></a>      <span class="decl_name">auto.common_normalize_lemma_names</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.classical_normalize_lemma_names"></a>      <span class="decl_name">auto.classical_normalize_lemma_names</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.normalize_negations"></a>      <span class="decl_name">auto.normalize_negations</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.normalize_hyp"></a>      <span class="decl_name">auto.normalize_hyp</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">(simps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.normalize_hyps"></a>      <span class="decl_name">auto.normalize_hyps</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.eelim"></a>      <span class="decl_name">auto.eelim</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.eelims"></a>      <span class="decl_name">auto.eelims</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.do_subst"></a>      <span class="decl_name">auto.do_subst</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.do_substs"></a>      <span class="decl_name">auto.do_substs</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.add_conjuncts"></a>      <span class="decl_name">auto.add_conjuncts</span> <span class="decl_args">(a a_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.split_hyp"></a>      <span class="decl_name">auto.split_hyp</span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.split_hyps_aux"></a>      <span class="decl_name">auto.split_hyps_aux</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.split_hyps"></a>      <span class="decl_name">auto.split_hyps</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.preprocess_hyps"></a>      <span class="decl_name">auto.preprocess_hyps</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.mk_hinst_lemmas"></a>      <span class="decl_name">auto.mk_hinst_lemmas</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/smt/smt_tactic.html#smt_tactic">smt_tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/smt/ematch.html#hinst_lemmas">hinst_lemmas</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.done"></a>      <span class="decl_name">auto.done</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>done</code> first attempts to close the goal using <code>contradiction</code>. If this fails, it creates an
SMT state and will repeatedly use <code>ematch</code> (using <code>ematch</code> lemmas in the environment,
universally quantified assumptions, and the supplied lemmas <code>ps</code>) and congruence closure.</p>
       </div>
</div><div class="cnst"><a id="auto.case_option"></a>      <span class="decl_name">auto.case_option</span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.case_hyp"></a>      <span class="decl_name">auto.case_hyp</span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a>)</span> <span class="decl_args">(<a href="https://robertylewis.com/mathlib_docs/category/monad/cont.html#cont">cont</a> : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.case_some_hyp_aux"></a>      <span class="decl_name">auto.case_some_hyp_aux</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a>)</span> <span class="decl_args">(<a href="https://robertylewis.com/mathlib_docs/category/monad/cont.html#cont">cont</a> : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.case_some_hyp"></a>      <span class="decl_name">auto.case_some_hyp</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a>)</span> <span class="decl_args">(<a href="https://robertylewis.com/mathlib_docs/category/monad/cont.html#cont">cont</a> : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="auto.safe_core"></a>      <span class="decl_name">auto.safe_core</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.case_option">auto.case_option</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>safe_core s ps cfg opt</code> negates the goal, normalizes hypotheses
(by splitting conjunctions, eliminating existentials, pushing negations inwards,
and calling <code>simp</code> with the supplied lemmas <code>s</code>), and then tries <code>contradiction</code>.</p>

<p>If this fails, it will create an SMT state and repeatedly use <code>ematch</code>
(using <code>ematch</code> lemmas in the environment, universally quantified assumptions,
and the supplied lemmas <code>ps</code>) and congruence closure.</p>

<p><code>safe_core</code> is complete for propositional logic. Depending on the form of <code>opt</code>
it will:</p>

<ul>
<li>(if <code>opt</code> is <code>case_option.force</code>) fail if it does not close the goal,</li>
<li>(if <code>opt</code> is <code>case_option.at_most_one</code>) fail if it produces more than one goal, and</li>
<li>(if <code>opt</code> is <code>case_option.accept</code>) ignore the number of goals it produces.</li>
</ul>
       </div>
</div><div class="def"><a id="auto.clarify"></a>      <span class="decl_name">auto.clarify</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>clarify</code> is <code>safe_core</code>, but with the <code>(opt : case_option)</code>
parameter fixed at <code>case_option.at_most_one</code>.</p>
       </div>
</div><div class="def"><a id="auto.safe"></a>      <span class="decl_name">auto.safe</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>safe</code> is <code>safe_core</code>, but with the <code>(opt : case_option)</code>
parameter fixed at <code>case_option.accept</code>.</p>
       </div>
</div><div class="def"><a id="auto.finish"></a>      <span class="decl_name">auto.finish</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>finish</code> is <code>safe_core</code>, but with the <code>(opt : case_option)</code>
parameter fixed at <code>case_option.force</code>.</p>
       </div>
</div><div class="def"><a id="auto.iclarify"></a>      <span class="decl_name">auto.iclarify</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>iclarify</code> is like <code>clarify</code>, but only uses intuitionistic logic.</p>
       </div>
</div><div class="def"><a id="auto.isafe"></a>      <span class="decl_name">auto.isafe</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>isafe</code> is like <code>safe</code>, but only uses intuitionistic logic.</p>
       </div>
</div><div class="def"><a id="auto.ifinish"></a>      <span class="decl_name">auto.ifinish</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>ifinish</code> is like <code>finish</code>, but only uses intuitionistic logic.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.clarify"></a>      <span class="decl_name">tactic.interactive.clarify</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>clarify [h1,...,hn] using [e1,...,en]</code> negates the goal, normalizes hypotheses
(by splitting conjunctions, eliminating existentials, pushing negations inwards,
and calling <code>simp</code> with the supplied lemmas <code>h1,...,hn</code>), and then tries <code>contradiction</code>.</p>

<p>If this fails, it will create an SMT state and repeatedly use <code>ematch</code>
(using <code>ematch</code> lemmas in the environment, universally quantified assumptions,
and the supplied lemmas <code>e1,...,en</code>) and congruence closure.</p>

<p><code>clarify</code> is complete for propositional logic.</p>

<p>Either of the supplied simp lemmas or the supplied ematch lemmas are optional.</p>

<p><code>clarify</code> will fail if it produces more than one goal.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.safe"></a>      <span class="decl_name">tactic.interactive.safe</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>safe [h1,...,hn] using [e1,...,en]</code> negates the goal, normalizes hypotheses
(by splitting conjunctions, eliminating existentials, pushing negations inwards,
and calling <code>simp</code> with the supplied lemmas <code>h1,...,hn</code>), and then tries <code>contradiction</code>.</p>

<p>If this fails, it will create an SMT state and repeatedly use <code>ematch</code>
(using <code>ematch</code> lemmas in the environment, universally quantified assumptions,
and the supplied lemmas <code>e1,...,en</code>) and congruence closure.</p>

<p><code>safe</code> is complete for propositional logic.</p>

<p>Either of the supplied simp lemmas or the supplied ematch lemmas are optional.</p>

<p><code>safe</code> ignores the number of goals it produces, and should never fail.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.finish"></a>      <span class="decl_name">tactic.interactive.finish</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>finish [h1,...,hn] using [e1,...,en]</code> negates the goal, normalizes hypotheses
(by splitting conjunctions, eliminating existentials, pushing negations inwards,
and calling <code>simp</code> with the supplied lemmas <code>h1,...,hn</code>), and then tries <code>contradiction</code>.</p>

<p>If this fails, it will create an SMT state and repeatedly use <code>ematch</code>
(using <code>ematch</code> lemmas in the environment, universally quantified assumptions,
and the supplied lemmas <code>e1,...,en</code>) and congruence closure.</p>

<p><code>finish</code> is complete for propositional logic.</p>

<p>Either of the supplied simp lemmas or the supplied ematch lemmas are optional.</p>

<p><code>finish</code> will fail if it does not close the goal.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.iclarify"></a>      <span class="decl_name">tactic.interactive.iclarify</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>iclarify</code> is like <code>clarify</code>, but only uses intuitionistic logic.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.isafe"></a>      <span class="decl_name">tactic.interactive.isafe</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>isafe</code> is like <code>safe</code>, but only uses intuitionistic logic.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.ifinish"></a>      <span class="decl_name">tactic.interactive.ifinish</span> <span class="decl_args">(hs : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive.html#tactic.simp_arg_list">tactic.simp_arg_list</a>)</span> <span class="decl_args">(ps : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "using" *> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.pexpr_list_or_texpr">interactive.types.pexpr_list_or_texpr</a>)))</span> <span class="decl_args">(cfg : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/finish.html#auto.auto_config">auto.auto_config</a> {use_simp := bool.tt, classical := bool.tt, max_ematch_rounds := 20})</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>ifinish</code> is like <code>finish</code>, but only uses intuitionistic logic.</p>
       </div>
</div></body></html>