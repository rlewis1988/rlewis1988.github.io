<!DOCTYPE html><html lang="en"><head><title>tactic.rcases</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><p></p>
</div><div class="def"><a id="tactic.list_Sigma"></a>      <h4>tactic.list_Sigma</h4><code>Type u_1 → Type u_1</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.list_Pi"></a>      <h4>tactic.list_Pi</h4><code>Type u_1 → Type u_1</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.goals"></a>      <h4>tactic.goals</h4><code>Type</code>
<div class="indent"><p></p>
       </div>
</div><div class="cnst"><a id="tactic.rcases_patt"></a>      <h4>tactic.rcases_patt</h4><code>Type</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt.inhabited"></a>      <h4>tactic.rcases_patt.inhabited</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/logic.html#inhabited">inhabited</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.rcases_patt.name"></a>      <h4>tactic.rcases_patt.name</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt.has_reflect"></a>      <h4>tactic.rcases_patt.has_reflect</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="cnst"><a id="tactic.rcases_patt_inverted"></a>      <h4>tactic.rcases_patt_inverted</h4><code>Type</code>
<div class="indent"><p>The parser/printer uses an "inverted" meaning for the <code>many</code> constructor:
rather than representing a sum of products, here it represents a
product of sums. We fix this by applying <code>invert</code>, defined below, to
the result.</p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt_inverted.inhabited"></a>      <h4>tactic.rcases_patt_inverted.inhabited</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/logic.html#inhabited">inhabited</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.rcases_patt_inverted.has_reflect"></a>      <h4>tactic.rcases_patt_inverted.has_reflect</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.rcases_patt_inverted.has_to_format"></a>      <h4>tactic.rcases_patt_inverted.has_to_format</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/format.html#has_to_format">has_to_format</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.rcases_patt.format"></a>      <h4>tactic.rcases_patt.format</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a> bool.ff → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/format.html#format">format</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt.has_to_format"></a>      <h4>tactic.rcases_patt.has_to_format</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/format.html#has_to_format">has_to_format</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.rcases.process_constructor"></a>      <h4>tactic.rcases.process_constructor</h4><code>ℕ → <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p>Takes the number of fields of a single constructor and patterns to
match its fields against (not necessarily the same number). The
returned lists each contain one element per field of the
constructor. The <code>name</code> is the name which will be used in the
top-level <code>cases</code> tactic, and the <code>rcases_patt</code> is the pattern which
the field will be matched against by subsequent <code>cases</code> tactics.</p>
       </div>
</div><div class="def"><a id="tactic.rcases.process_constructors"></a>      <h4>tactic.rcases.process_constructors</h4><code>ℕ →
<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> →
<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a>) →
<a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> (<a href="https://robertylewis.com/mathlib_docs/core/data/dlist.html#dlist">dlist</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a>))</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases"></a>      <h4>tactic.rcases</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><code>rcases h e pat</code> performs case distinction on <code>e</code> using <code>pat</code> to 
name the arising new variables and assumptions. If <code>h</code> is <code>some</code> name, 
a new assumption <code>h : e = pat</code> will relate the expression <code>e</code> with the 
current pattern.</p>
       </div>
</div><div class="def"><a id="tactic.rintro"></a>      <h4>tactic.rintro</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.merge_list"></a>      <h4>tactic.merge_list</h4><code>Π {α : Type u_1}, (α → α → α) → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> α → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> α → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> α</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt.merge"></a>      <h4>tactic.rcases_patt.merge</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_hint"></a>      <h4>tactic.rcases_hint</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a> → ℕ → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rintro_hint"></a>      <h4>tactic.rintro_hint</h4><code>ℕ → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a>)</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt_parse_core"></a>      <h4>tactic.rcases_patt_parse_core</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt_parse_list"></a>      <h4>tactic.rcases_patt_parse_list</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a>)</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_patt_parse"></a>      <h4>tactic.rcases_patt_parse</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_parse_depth"></a>      <h4>tactic.rcases_parse_depth</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> ℕ</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.rcases_parse"></a>      <h4>tactic.rcases_parse</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a> × (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a>) ⊕ ℕ))</code>
<div class="indent"><p>syntax for a <code>rcases</code> pattern: <code>('?' expr (: n)?) | ((h :)? expr (with patt_list)?)</code></p>
       </div>
</div><div class="def"><a id="tactic.rintro_parse"></a>      <h4>tactic.rintro_parse</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Pi">tactic.list_Pi</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt">tactic.rcases_patt</a> ⊕ ℕ)</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ext_patt"></a>      <h4>tactic.ext_patt</h4><code>Type</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ext_parse"></a>      <h4>tactic.ext_parse</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.ext_patt">tactic.ext_patt</a></code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.interactive.rcases"></a>      <h4>tactic.interactive.rcases</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_parse">tactic.rcases_parse</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p>The <code>rcases</code> tactic is the same as <code>cases</code>, but with more flexibility in the
<code>with</code> pattern syntax to allow for recursive case splitting. The pattern syntax
uses the following recursive grammar:</p>

<p><code>lean
patt ::= (patt_list "|")* patt_list
patt_list ::= id | "_" | "⟨" (patt ",")* patt "⟩"
</code></p>

<p>A pattern like <code>⟨a, b, c⟩ | ⟨d, e⟩</code> will do a split over the inductive datatype,
naming the first three parameters of the first constructor as <code>a,b,c</code> and the
first two of the second constructor <code>d,e</code>. If the list is not as long as the
number of arguments to the constructor or the number of constructors, the
remaining variables will be automatically named. If there are nested brackets
such as <code>⟨⟨a⟩, b | c⟩ | d</code> then these will cause more case splits as necessary.
If there are too many arguments, such as <code>⟨a, b, c⟩</code> for splitting on
<code>∃ x, ∃ y, p x</code>, then it will be treated as <code>⟨a, ⟨b, c⟩⟩</code>, splitting the last
parameter as necessary.</p>

<p><code>rcases</code> also has special support for quotient types: quotient induction into Prop works like
matching on the constructor <code>quot.mk</code>.</p>

<p><code>rcases h : e with PAT</code> will do the same as <code>rcases e with PAT</code> with the exception that an assumption
<code>h : e = PAT</code> will be added to the context.</p>

<p><code>rcases? e</code> will perform case splits on <code>e</code> in the same way as <code>rcases e</code>,
but rather than accepting a pattern, it does a maximal cases and prints the
pattern that would produce this case splitting. The default maximum depth is 5,
but this can be modified with <code>rcases? e : n</code>.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.rintro"></a>      <h4>tactic.interactive.rintro</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rintro_parse">tactic.rintro_parse</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p>The <code>rintro</code> tactic is a combination of the <code>intros</code> tactic with <code>rcases</code> to
allow for destructuring patterns while introducing variables. See <code>rcases</code> for
a description of supported patterns. For example, <code>rintro (a | ⟨b, c⟩) ⟨d, e⟩</code>
will introduce two variables, and then do case splits on both of them producing
two subgoals, one with variables <code>a d e</code> and the other with <code>b c d e</code>.</p>

<p><code>rintro?</code> will introduce and case split on variables in the same way as
<code>rintro</code>, but will also print the <code>rintro</code> invocation that would have the same
result. Like <code>rcases?</code>, <code>rintro? : n</code> allows for modifying the
depth of splitting; the default is 5.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.rintros"></a>      <h4>tactic.interactive.rintros</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rintro_parse">tactic.rintro_parse</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p>Alias for <code>rintro</code>.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.obtain_parse"></a>      <h4>tactic.interactive.obtain_parse</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.list_Sigma">tactic.list_Sigma</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.rcases_patt_inverted">tactic.rcases_patt_inverted</a>) × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/pexpr.html#pexpr">pexpr</a>)</code>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.interactive.obtain"></a>      <h4>tactic.interactive.obtain</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/tactic/rcases.html#tactic.interactive.obtain_parse">tactic.interactive.obtain_parse</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p>The <code>obtain</code> tactic is a combination of <code>have</code> and <code>rcases</code>.
<code>obtain ⟨patt⟩ : type,
 { ... }</code>
is equivalent to
<code>have h : type,
 { ... },
 rcases h with ⟨patt⟩</code>.
 The syntax <code>obtain ⟨patt⟩ : type := proof</code> is also supported.
 If <code>⟨patt⟩</code> is omitted, <code>rcases</code> will try to infer the pattern.
 If <code>type</code> is omitted, <code>:= proof</code> is required.</p>
       </div>
</div></body></html>