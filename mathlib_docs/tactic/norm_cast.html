<!DOCTYPE html><html lang="en"><head><title>tactic.norm_cast</title><meta charset="UTF-8"><link rel="stylesheet" href="/home/rob/lean/mathlib/scripts/html_out/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="/home/rob/lean/mathlib/scripts/html_out/index.html">root</a>/<br><a href="/home/rob/lean/mathlib/scripts/html_out/tactic/index.html">tactic</a>/<br><a href="norm_cast.html">norm_cast</a></div><div class="mod_doc"><p></p>
</div><div class="def"><a id="tactic.mk_instance'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L22">tactic.mk_instance'</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>This is a work around to the fact that in some cases
mk_instance times out instead of failing
example: has_lift_t ℤ ℕ</p>

<p>mk_instance' is used when we assume the type class search
should end instantly</p>
       </div>
</div><div class="def"><a id="expr.flip_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L30">expr.flip_eq</a></span> <span class="decl_args">(ty : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a> × (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a> → <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>))</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="expr.flip_iff"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L38">expr.flip_iff</a></span> <span class="decl_args">(ty : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a> × (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a> → <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>))</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="simp_attr.push_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L66">simp_attr.push_cast</a></span>  <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/attribute.html#user_attribute">user_attribute</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="norm_cast.elim_cast_attr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L91">norm_cast.elim_cast_attr</a></span>  <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/attribute.html#user_attribute">user_attribute</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</div>
<div class="indent"><p>This is an attribute for simplification rules that are
used to normalize casts.</p>

<p>Let r be = or ↔, then elimination lemmas of the shape
Π ..., P ↑a1 ... ↑an r P a1 ... an should be given the
attribute elim_cast.</p>
       </div>
</div><div class="def"><a id="norm_cast.move_cast_attr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L109">norm_cast.move_cast_attr</a></span>  <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/attribute.html#user_attribute">user_attribute</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</div>
<div class="indent"><p>This is an attribute for simplification rules that are
used to normalize casts.</p>

<p>Let r be = or ↔, then compositional lemmas of the shape
Π ..., ↑(P a1 ... an) r P ↑a1 ... ↑an should be given the
attribute move_cast.</p>
       </div>
</div><div class="def"><a id="norm_cast.squash_cast_attr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L132">norm_cast.squash_cast_attr</a></span>  <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/attribute.html#user_attribute">user_attribute</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/simp_tactic.html#simp_lemmas">simp_lemmas</a>)</div>
<div class="indent"><p>This is an attribute for simplification rules of the shape
Π ..., ↑↑a = ↑a or  Π ..., ↑a = a.</p>

<p>They are used in a heuristic to infer intermediate casts.</p>
       </div>
</div><div class="def"><a id="norm_cast.derive"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L230">norm_cast.derive</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a> × <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.exact_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L268">tactic.exact_mod_cast</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.apply_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L274">tactic.apply_mod_cast</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#list">list</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/name.html#name">name</a> × <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/expr.html#expr">expr</a>))</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.assumption_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L280">tactic.assumption_mod_cast</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.interactive.norm_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L306">tactic.interactive.norm_cast</a></span> <span class="decl_args">(loc : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.types.location">interactive.types.location</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Normalize casts at the given locations by moving them "upwards".
As opposed to simp, norm_cast can be used without necessarily
closing the goal.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.rw_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L318">tactic.interactive.rw_mod_cast</a></span> <span class="decl_args">(rs : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive.html#tactic.interactive.rw_rules">tactic.interactive.rw_rules</a>)</span> <span class="decl_args">(loc : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.types.location">interactive.types.location</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Rewrite with the given rule and normalize casts between steps.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.exact_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L336">tactic.interactive.exact_mod_cast</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.types.texpr">interactive.types.texpr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Normalize the goal and the given expression,
then close the goal with exact.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.apply_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L352">tactic.interactive.apply_mod_cast</a></span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.types.texpr">interactive.types.texpr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Normalize the goal and the given expression,
then apply the expression to the goal.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.assumption_mod_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L361">tactic.interactive.assumption_mod_cast</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Normalize the goal and every expression in the local context,
then close the goal with assumption.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.push_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L369">tactic.interactive.push_cast</a></span> <span class="decl_args">(l : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/interactive_base.html#interactive.types.location">interactive.types.location</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/tactic.html#tactic">tactic</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p><code>push_cast</code> rewrites the expression to move casts toward the leaf nodes.
For example, <code>↑(a + b)</code> will be written to <code>↑a + ↑b</code>.
Equivalent to <code>simp only with push_cast</code>.
Can also be used at hypotheses.</p>
       </div>
</div><div class="def"><a id="conv.interactive.norm_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L378">conv.interactive.norm_cast</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/meta/converter/conv.html#conv">conv</a> <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="ge_from_le"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L382">ge_from_le</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#has_le">has_le</a> α]</span> <span class="decl_args">(x y : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ≥ y ↔ y ≤ x</div>
<div class="indent"><p></p>
       Attributes: elim_cast</div>
</div><div class="thm"><a id="gt_from_lt"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L383">gt_from_lt</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#has_lt">has_lt</a> α]</span> <span class="decl_args">(x y : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x > y ↔ y < x</div>
<div class="indent"><p></p>
       Attributes: elim_cast</div>
</div><div class="thm"><a id="ne_from_not_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L384">ne_from_not_eq</a></span> <span class="decl_args">{α : Sort u_1}</span> <span class="decl_args">(x y : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ≠ y ↔ ¬x = y</div>
<div class="indent"><p></p>
       Attributes: elim_cast</div>
</div><div class="thm"><a id="ite_cast.reversed"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L396">ite_cast.reversed</a></span> <span class="decl_args">{α β : Type}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/coe.html#has_coe">has_coe</a> α β]</span> <span class="decl_args">{c : Prop}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#decidable">decidable</a> c]</span> <span class="decl_args">{a b : α}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#ite">ite</a> c ↑a ↑b = ↑(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#ite">ite</a> c a b)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="ite_cast"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/norm_cast.lean#L396">ite_cast</a></span> <span class="decl_args">{α β : Type}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/coe.html#has_coe">has_coe</a> α β]</span> <span class="decl_args">{c : Prop}</span> <span class="decl_args">[<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/core.html#decidable">decidable</a> c]</span> <span class="decl_args">{a b : α}</span> <span class="decl_args">:</span>       <div class="decl_type">↑(<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#ite">ite</a> c a b) = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#ite">ite</a> c ↑a ↑b</div>
<div class="indent"><p></p>
       Attributes: move_cast</div>
</div></body></html>