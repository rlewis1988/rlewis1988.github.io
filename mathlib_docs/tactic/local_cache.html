<html><head><title>tactic.local_cache</title><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><p></p>
</div><div class="entry"><a id="tactic.local_cache.internal.mk_full_namespace">      <h4>tactic.local_cache.internal.mk_full_namespace</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.save_data">      <h4>tactic.local_cache.internal.save_data</h4><code>Π {α : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> α] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> α],
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → Π (a : α) [_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> a], <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.load_data">      <h4>tactic.local_cache.internal.load_data</h4><code>Π {α : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> α] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> α], <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.poke_data">      <h4>tactic.local_cache.internal.poke_data</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.run_once_under_name">      <h4>tactic.local_cache.internal.run_once_under_name</h4><code>Π {α : Type} [_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> α] [_inst_4 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> α], <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.cache_scope">      <h4>tactic.local_cache.internal.cache_scope</h4><code>Type</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.block_local.get_name">      <h4>tactic.local_cache.internal.block_local.get_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.block_local.try_get_name">      <h4>tactic.local_cache.internal.block_local.try_get_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.block_local.present">      <h4>tactic.local_cache.internal.block_local.present</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.block_local.clear">      <h4>tactic.local_cache.internal.block_local.clear</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.FNV_OFFSET_BASIS">      <h4>tactic.local_cache.internal.def_local.FNV_OFFSET_BASIS</h4><code>ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.FNV_PRIME">      <h4>tactic.local_cache.internal.def_local.FNV_PRIME</h4><code>ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.RADIX">      <h4>tactic.local_cache.internal.def_local.RADIX</h4><code>ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.hash_byte">      <h4>tactic.local_cache.internal.def_local.hash_byte</h4><code>ℕ → <a href="https://robertylewis.com/mathlib_docs/core/init/data/char/basic.html#char">char</a> → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.hash_string">      <h4>tactic.local_cache.internal.def_local.hash_string</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/data/string/basic.html#string">string</a> → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.hash_context">      <h4>tactic.local_cache.internal.def_local.hash_context</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/data/string/basic.html#string">string</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.get_root_name">      <h4>tactic.local_cache.internal.def_local.get_root_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.apply_tag">      <h4>tactic.local_cache.internal.def_local.apply_tag</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → ℕ → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.mk_dead_name">      <h4>tactic.local_cache.internal.def_local.mk_dead_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.kill_name">      <h4>tactic.local_cache.internal.def_local.kill_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.is_name_dead">      <h4>tactic.local_cache.internal.def_local.is_name_dead</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.get_tag_with_status">      <h4>tactic.local_cache.internal.def_local.get_tag_with_status</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> (ℕ × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.get_name">      <h4>tactic.local_cache.internal.def_local.get_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.try_get_name">      <h4>tactic.local_cache.internal.def_local.try_get_name</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.present">      <h4>tactic.local_cache.internal.def_local.present</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.internal.def_local.clear">      <h4>tactic.local_cache.internal.def_local.clear</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.cache_scope.block_local">      <h4>tactic.local_cache.cache_scope.block_local</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a></code>
<div class="indent"><p><p>This scope propogates the cache within a <code>begin ... end</code> or <code>by</code> block
   and its decendants.</p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.cache_scope.def_local">      <h4>tactic.local_cache.cache_scope.def_local</h4><code><a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a></code>
<div class="indent"><p><p>This scope propogates the cache within an entire <code>def</code>/<code>lemma</code>.</p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.present">      <h4>tactic.local_cache.present</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.cache_scope.block_local">tactic.local_cache.cache_scope.block_local</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a></code>
<div class="indent"><p><p>Asks whether the namespace <code>ns</code> currently has a value-in-cache.</p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.clear">      <h4>tactic.local_cache.clear</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.cache_scope.block_local">tactic.local_cache.cache_scope.block_local</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></code>
<div class="indent"><p><p>Clear cache associated to namespace <code>ns</code>.</p>
</p>       </div>
</div><div class="entry"><a id="tactic.local_cache.get">      <h4>tactic.local_cache.get</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> →
Π (α : Type) [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> α] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> α],
  <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.cache_scope.block_local">tactic.local_cache.cache_scope.block_local</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</code>
<div class="indent"><p><p>Gets the (optionally present) value-in-cache for <code>ns</code>.</p>
</p>       </div>
</div><div class="entry"><a id="tactic.run_once">      <h4>tactic.run_once</h4><code>Π {α : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#reflected">reflected</a> α] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> α],
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> →
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α →
  <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#opt_param">opt_param</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.internal.cache_scope">tactic.local_cache.internal.cache_scope</a> <a href="https://robertylewis.com/mathlib_docs/tactic/local_cache.html#tactic.local_cache.cache_scope.block_local">tactic.local_cache.cache_scope.block_local</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> α</code>
<div class="indent"><p><p>Using the namespace <code>ns</code> as its key, when called for the first
   time <code>run_once ns t</code> runs <code>t</code>, then saves and returns the result.
   Upon subsequent invocations in the same tactic block, with the scope
   of the caching being inherited by child tactic blocks) we return the
   cached result directly.</p>

<p>You can configure the cached scope to be entire <code>def</code>/<code>lemma</code>s changing
   the optional cache_scope argument to <code>cache_scope.def_local</code>.
   Note: the caches backing each scope are different.</p>

<p>If <code>α</code> is just <code>unit</code>, this means we just run <code>t</code> once each tactic
   block.</p>
</p>       </div>
</div></body></html>