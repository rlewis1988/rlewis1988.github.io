<!DOCTYPE html><html lang="en"><head><title>tactic.ring2</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="nav"><a href="https://robertylewis.com/mathlib_docs//index.html">root</a>/<a href="https://robertylewis.com/mathlib_docs/tactic/index.html">tactic</a>/<a href="ring2.html">ring2</a></div><div class="mod_doc"><h1>ring2</h1>

<p>An experimental variant on the <code>ring</code> tactic that uses computational
reflection instead of proof generation. Useful for kernel benchmarking.</p>
</div><div class="def"><a id="tree.reflect'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L22">tree.reflect'</a></span> <span class="decl_args">(u : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/level.html#level">level</a>)</span> <span class="decl_args">(α : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p><code>(reflect' t u α)</code> quasiquotes a tree <code>(t: tree expr)</code> of quoted
values of type <code>α</code> at level <code>u</code> into an <code>expr</code> which reifies to a <code>tree α</code>
containing the reifications of the <code>expr</code>s from the original <code>t</code>.</p>
       </div>
</div><div class="def"><a id="tree.get_or_zero"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L29">tree.get_or_zero</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_zero">has_zero</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p>Returns an element indexed by <code>n</code>, or zero if <code>n</code> isn't a valid index.
See <code>tree.get</code>.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.csring_expr.has_reflect"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L40">tactic.ring2.csring_expr.has_reflect</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/has_reflect.html#has_reflect">has_reflect</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="cnst"><a id="tactic.ring2.csring_expr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L40">tactic.ring2.csring_expr</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>A reflected/meta representation of an expression in a commutative
semiring. This representation is a direct translation of such
expressions - see <code>horner_expr</code> for a normal form.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.csring_expr.eval"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L57">tactic.ring2.csring_expr.eval</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p>Evaluates a reflected <code>csring_expr</code> into an element of the
original <code>comm_semiring</code> type <code>α</code>, retrieving opaque elements
(atoms) from the tree <code>t</code>.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.decidable_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L72">tactic.ring2.horner_expr.decidable_eq</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="cnst"><a id="tactic.ring2.horner_expr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L72">tactic.ring2.horner_expr</a></span>  <span class="decl_args">:</span>       <div class="decl_type">Type</div>
<div class="indent"><p>An efficient representation of expressions in a commutative
semiring using the sparse Horner normal form. This type admits
non-optimal instantiations (e.g. <code>P</code> can be represented as <code>P+0+0</code>),
so to get good performance out of it, care must be taken to maintain
an optimal, <em>canonical</em> form.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.is_cs"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L84">tactic.ring2.horner_expr.is_cs</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">Prop</div>
<div class="indent"><p>True iff the <code>horner_expr</code> argument is a valid <code>csring_expr</code>.
For that to be the case, all its constants must be non-negative.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_zero"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L88">tactic.ring2.horner_expr.has_zero</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_zero">has_zero</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_one"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L89">tactic.ring2.horner_expr.has_one</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_one">has_one</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.atom"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L92">tactic.ring2.horner_expr.atom</a></span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p>Represent a <code>csring_expr.atom</code> in Horner form.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.to_string"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L94">tactic.ring2.horner_expr.to_string</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/string/basic.html#string">string</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_to_string"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L99">tactic.ring2.horner_expr.has_to_string</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/to_string.html#has_to_string">has_to_string</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.horner'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L103">tactic.ring2.horner_expr.horner'</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">(b : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p>Alternative constructor for (horner a x n b) which maintains canonical
form by simplifying special cases of <code>a</code>.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.add_const"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L112">tactic.ring2.horner_expr.add_const</a></span> <span class="decl_args">(k : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#znum">znum</a>)</span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.add_aux"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L119">tactic.ring2.horner_expr.add_aux</a></span> <span class="decl_args">(a₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(A₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(x₁ : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(a_1 : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">(a_2 : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(a_3 : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.add"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L135">tactic.ring2.horner_expr.add</a></span> <span class="decl_args">(a a_1 : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.neg"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L159">tactic.ring2.horner_expr.neg</a></span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.mul_const"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L166">tactic.ring2.horner_expr.mul_const</a></span> <span class="decl_args">(k : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#znum">znum</a>)</span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.mul_aux"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L173">tactic.ring2.horner_expr.mul_aux</a></span> <span class="decl_args">(a₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(x₁ : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">(n₁ : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">(b₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(A₁ B₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a> → <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.mul"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L184">tactic.ring2.horner_expr.mul</a></span> <span class="decl_args">(a a_1 : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_add"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L202">tactic.ring2.horner_expr.has_add</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_add">has_add</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_neg"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L203">tactic.ring2.horner_expr.has_neg</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_neg">has_neg</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.has_mul"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L204">tactic.ring2.horner_expr.has_mul</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_mul">has_mul</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="tactic.ring2.horner_expr.pow"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L206">tactic.ring2.horner_expr.pow</a></span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.inv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L215">tactic.ring2.horner_expr.inv</a></span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.of_csexpr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L218">tactic.ring2.horner_expr.of_csexpr</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a></div>
<div class="indent"><p>Brings expressions into Horner normal form.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.horner_expr.cseval"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L226">tactic.ring2.horner_expr.cseval</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p>Evaluates a reflected <code>horner_expr</code> - see <code>csring_expr.eval</code>.</p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_atom"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L230">tactic.ring2.horner_expr.cseval_atom</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.atom">tactic.ring2.horner_expr.atom</a> n) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.atom">tactic.ring2.horner_expr.atom</a> n) = <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tree.get_or_zero">tree.get_or_zero</a> t n</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_add_const"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L234">tactic.ring2.horner_expr.cseval_add_const</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(k : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">{e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>}</span> <span class="decl_args">(cs : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.add_const">tactic.ring2.horner_expr.add_const</a> (<a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num.to_znum">num.to_znum</a> k) e) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.add_const">tactic.ring2.horner_expr.add_const</a> (<a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num.to_znum">num.to_znum</a> k) e) =
    ↑k + <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_horner'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L250">tactic.ring2.horner_expr.cseval_horner'</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#pos_num">pos_num</a>)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">(b : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>)</span> <span class="decl_args">(h₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> a)</span> <span class="decl_args">(h₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> b)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.horner'">tactic.ring2.horner_expr.horner'</a> a x n b) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.horner'">tactic.ring2.horner_expr.horner'</a> a x n b) =
    <a href="https://robertylewis.com/mathlib_docs/tactic/ring.html#tactic.ring.horner">tactic.ring.horner</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t a) (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tree.get_or_zero">tree.get_or_zero</a> t x) ↑n
      (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t b)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_add"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L263">tactic.ring2.horner_expr.cseval_add</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">{e₁ e₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>}</span> <span class="decl_args">(cs₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e₁)</span> <span class="decl_args">(cs₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e₂)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.add">tactic.ring2.horner_expr.add</a> e₁ e₂) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.add">tactic.ring2.horner_expr.add</a> e₁ e₂) =
    <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e₁ + <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e₂</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_mul_const"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L323">tactic.ring2.horner_expr.cseval_mul_const</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(k : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">{e : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>}</span> <span class="decl_args">(cs : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.mul_const">tactic.ring2.horner_expr.mul_const</a> (<a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num.to_znum">num.to_znum</a> k) e) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.mul_const">tactic.ring2.horner_expr.mul_const</a> (<a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num.to_znum">num.to_znum</a> k) e) =
    <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e * ↑k</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_mul"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L343">tactic.ring2.horner_expr.cseval_mul</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">{e₁ e₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>}</span> <span class="decl_args">(cs₁ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e₁)</span> <span class="decl_args">(cs₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> e₂)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.mul">tactic.ring2.horner_expr.mul</a> e₁ e₂) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.mul">tactic.ring2.horner_expr.mul</a> e₁ e₂) =
    <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e₁ * <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t e₂</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_pow"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L377">tactic.ring2.horner_expr.cseval_pow</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">{x : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr">tactic.ring2.horner_expr</a>}</span> <span class="decl_args">(cs : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> x)</span> <span class="decl_args">(n : <a href="https://robertylewis.com/mathlib_docs/data/num/basic.html#num">num</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.pow">tactic.ring2.horner_expr.pow</a> x n) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.pow">tactic.ring2.horner_expr.pow</a> x n) = <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t x ^ ↑n</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="tactic.ring2.horner_expr.cseval_of_csexpr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L397">tactic.ring2.horner_expr.cseval_of_csexpr</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(r : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.is_cs">tactic.ring2.horner_expr.is_cs</a> (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.of_csexpr">tactic.ring2.horner_expr.of_csexpr</a> r) ∧
  <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.cseval">tactic.ring2.horner_expr.cseval</a> t (<a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.of_csexpr">tactic.ring2.horner_expr.of_csexpr</a> r) = <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr.eval">tactic.ring2.csring_expr.eval</a> t r</div>
<div class="indent"><p>For any given tree <code>t</code> of atoms and any reflected expression <code>r</code>,
the Horner form of <code>r</code> is a valid csring expression, and under <code>t</code>,
the Horner form evaluates to the same thing as <code>r</code>.</p>
       </div>
</div><div class="thm"><a id="tactic.ring2.correctness"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L419">tactic.ring2.correctness</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_semiring">comm_semiring</a> α]</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> α)</span> <span class="decl_args">(r₁ r₂ : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a>)</span> <span class="decl_args">(H : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.of_csexpr">tactic.ring2.horner_expr.of_csexpr</a> r₁ = <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.horner_expr.of_csexpr">tactic.ring2.horner_expr.of_csexpr</a> r₂)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr.eval">tactic.ring2.csring_expr.eval</a> t r₁ = <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr.eval">tactic.ring2.csring_expr.eval</a> t r₂</div>
<div class="indent"><p>The main proof-by-reflection theorem. Given reflected csring expressions
<code>r₁</code> and <code>r₂</code> plus a storage <code>t</code> of atoms, if both expressions go to the
same Horner normal form, then the original non-reflected expressions are
equal. <code>H</code> follows from kernel reduction and is therefore <code>rfl</code>.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.reflect_expr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L427">tactic.ring2.reflect_expr</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a> × <a href="https://robertylewis.com/mathlib_docs/core/data/dlist.html#dlist">dlist</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p>Reflects a csring expression into a <code>csring_expr</code>, together
with a dlist of atoms, i.e. opaque variables over which the
expression is a polynomial.</p>
       </div>
</div><div class="def"><a id="tactic.ring2.csring_expr.replace"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L457">tactic.ring2.csring_expr.replace</a></span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/data/tree.html#tree">tree</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/state.html#state_t">state_t</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>) <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/tactic/ring2.html#tactic.ring2.csring_expr">tactic.ring2.csring_expr</a></div>
<div class="indent"><p>In the output of <code>reflect_expr</code>, <code>atom</code>s are initialized with incorrect indices.
The indices cannot be computed until the whole tree is built, so another pass over
the expressions is needed - this is what <code>replace</code> does. The computation (expressed
in the state monad) fixes up <code>atom</code>s to match their positions in the atom tree.
The initial state is a list of all atom occurrences in the goal, left-to-right.</p>
       </div>
</div><div class="def"><a id="tactic.interactive.ring2"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L480">tactic.interactive.ring2</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Tactic for solving equations in the language of rings.
 This variant on the <code>ring</code> tactic uses kernel computation instead
 of proof generation.</p>
       </div>
</div><div class="def"><a id="conv.interactive.ring2"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/ring2.lean#L508">conv.interactive.ring2</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/converter/conv.html#conv">conv</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div></body></html>