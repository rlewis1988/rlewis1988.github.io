<!DOCTYPE html><html lang="en"><head><title>tactic.push_neg</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="https://robertylewis.com/mathlib_docs/index.html">root</a>/<br><a href="https://robertylewis.com/mathlib_docs/tactic/index.html">tactic</a>/<br><a href="push_neg.html">push_neg</a></div><div class="mod_doc"><p></p>
</div><div class="thm"><a id="push_neg.not_not_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L25">push_neg.not_not_eq</a></span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬¬p) = p</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_and_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L26">push_neg.not_and_eq</a></span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p ∧ q)) = (¬p ∨ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_or_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L27">push_neg.not_or_eq</a></span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p ∨ q)) = (¬p ∧ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_forall_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L28">push_neg.not_forall_eq</a></span> <span class="decl_args">{α : Sort u}</span> <span class="decl_args">(s : α → Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬∀ (x : α), s x) = ∃ (x : α), ¬s x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_exists_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L29">push_neg.not_exists_eq</a></span> <span class="decl_args">{α : Sort u}</span> <span class="decl_args">(s : α → Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬∃ (x : α), s x) = ∀ (x : α), ¬s x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_implies_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L30">push_neg.not_implies_eq</a></span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬(p → q)) = (p ∧ ¬q)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.classical.implies_iff_not_or"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L32">push_neg.classical.implies_iff_not_or</a></span> <span class="decl_args">(p q : Prop)</span> <span class="decl_args">:</span>       <div class="decl_type">p → q ↔ ¬p ∨ q</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L35">push_neg.not_eq</a></span> <span class="decl_args">{α : Sort u}</span> <span class="decl_args">(a b : α)</span> <span class="decl_args">:</span>       <div class="decl_type">¬a = b ↔ a ≠ b</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_le_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L39">push_neg.not_le_eq</a></span> <span class="decl_args">{β : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/order.html#linear_order">linear_order</a> β]</span> <span class="decl_args">(a b : β)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬a ≤ b) = (b < a)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="push_neg.not_lt_eq"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L40">push_neg.not_lt_eq</a></span> <span class="decl_args">{β : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/order.html#linear_order">linear_order</a> β]</span> <span class="decl_args">(a b : β)</span> <span class="decl_args">:</span>       <div class="decl_type">(¬a < b) = (b ≤ a)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="push_neg.whnf_reducible"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L43">push_neg.whnf_reducible</a></span> <span class="decl_args">(e : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="push_neg.normalize_negations"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L93">push_neg.normalize_negations</a></span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/meta/expr.html#expr">expr</a>)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="push_neg.push_neg_at_hyp"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L104">push_neg.push_neg_at_hyp</a></span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="push_neg.push_neg_at_goal"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L111">push_neg.push_neg_at_goal</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="tactic.interactive.push_neg"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L129">tactic.interactive.push_neg</a></span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.types.location">interactive.types.location</a>)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Push negations in the goal of some assumption.
For instance, given <code>h : ¬ ∀ x, ∃ y, x ≤ y</code>, will be transformed by <code>push_neg at h</code> into
<code>h : ∃ x, ∀ y, y &lt; x</code>. Variables names are conserved.</p>
       </div>
</div><div class="thm"><a id="imp_of_not_imp_not"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L142">imp_of_not_imp_not</a></span> <span class="decl_args">(P Q : Prop)</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> Q]</span> <span class="decl_args">(a : ¬Q → ¬P)</span> <span class="decl_args">(a_1 : P)</span> <span class="decl_args">:</span>       <div class="decl_type">Q</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="name_with_opt"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L146">name_with_opt</a></span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser">lean.parser</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> × <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>)</div>
<div class="indent"><p>Matches either an identifier "h" or a pair of identifiers "h with k"</p>
       </div>
</div><div class="def"><a id="tactic.interactive.contrapose"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/tactic/push_neg.lean#L158">tactic.interactive.contrapose</a></span> <span class="decl_args">(push : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/lean/parser.html#lean.parser.tk">lean.parser.tk</a> "!")))</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/interactive_base.html#interactive.parse">interactive.parse</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/category/alternative.html#optional">optional</a> <a href="https://robertylewis.com/mathlib_docs/tactic/push_neg.html#name_with_opt">name_with_opt</a>))</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#tactic">tactic</a> <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#unit">unit</a></div>
<div class="indent"><p>Transforms the goal into its contrapositive.
<code>contrapose</code>     turns a goal <code>P → Q</code> into <code>¬ Q → ¬ P</code>
<code>contrapose!</code>    turns a goal <code>P → Q</code> into <code>¬ Q → ¬ P</code> and pushes negations inside <code>P</code> and <code>Q</code>
                 using <code>push_neg</code>
<code>contrapose h</code>   first reverts the local assumption <code>h</code>, and then uses <code>contrapose</code> and <code>intro h</code>
<code>contrapose! h</code>  first reverts the local assumption <code>h</code>, and then uses <code>contrapose!</code> and <code>intro h</code>
<code>contrapose h with new_h</code> uses the name <code>new_h</code> for the introduced hypothesis.</p>
       </div>
</div></body></html>