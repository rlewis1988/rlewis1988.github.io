<!DOCTYPE html><html lang="en"><head><title>linear_algebra.matrix</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><h1>Linear maps and matrices</h1>

<p>This file defines the maps to send matrices to a linear map,
and to send linear maps between modules with a finite bases
to matrices. This defines a linear equivalence between linear maps
between finite-dimensional vector spaces and matrices indexed by
the respective bases.</p>

<p>Some results are proved about the linear map corresponding to a
diagonal matrix (range, ker and rank).</p>

<h2>Main definitions</h2>

<p>to<em>lin, to</em>matrix, linear<em>equiv</em>matrix</p>

<h2>Tags</h2>

<p>linear<em>map, matrix, linear</em>equiv, diagonal</p>
</div><div class="def"><a id="matrix.fintype"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L45">matrix.fintype</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">(R : Type u_1)</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> R]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="matrix.eval"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L50">matrix.eval</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R →ₗ[R] (n → R) →ₗ[R] m → R</div>
<div class="indent"><p>Evaluation of matrices gives a linear map from matrix m n R to
linear maps (n → R) →ₗ[R] (m → R).</p>
       </div>
</div><div class="def"><a id="matrix.to_lin"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L74">matrix.to_lin</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R)</span> <span class="decl_args">:</span>       <div class="decl_type">(n → R) →ₗ[R] m → R</div>
<div class="indent"><p>Evaluation of matrices gives a map from matrix m n R to
linear maps (n → R) →ₗ[R] (m → R).</p>
       </div>
</div><div class="thm"><a id="matrix.to_lin_add"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L76">matrix.to_lin_add</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">(M N : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (M + N) = <a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> M + <a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> N</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.to_lin_zero"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L79">matrix.to_lin_zero</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> 0 = 0</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="matrix.to_lin.is_linear_map"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L82">matrix.to_lin.is_linear_map</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/algebra/module.html#is_linear_map">is_linear_map</a> R <a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="matrix.to_lin.is_add_monoid_hom"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L86">matrix.to_lin.is_add_monoid_hom</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/algebra/group/hom.html#is_add_monoid_hom">is_add_monoid_hom</a> <a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="matrix.to_lin_apply"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L90">matrix.to_lin_apply</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">(M : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R)</span> <span class="decl_args">(v : n → R)</span> <span class="decl_args">:</span>       <div class="decl_type">⇑(<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> M) v = <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.mul_vec">matrix.mul_vec</a> M v</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="matrix.mul_to_lin"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L93">matrix.mul_to_lin</a></span> <span class="decl_args">{l m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> l]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> l]</span> <span class="decl_args">(M : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R)</span> <span class="decl_args">(N : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> n l R)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.mul">matrix.mul</a> M N) = <a href="https://robertylewis.com/mathlib_docs/algebra/module.html#linear_map.comp">linear_map.comp</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> M) (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> N)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="linear_map.to_matrixₗ"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L110">linear_map.to_matrixₗ</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">:</span>       <div class="decl_type">((n → R) →ₗ[R] m → R) →ₗ[R] <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R</div>
<div class="indent"><p>The linear map from linear maps (n → R) →ₗ[R] (m → R) to matrix m n R.</p>
       </div>
</div><div class="def"><a id="linear_map.to_matrix"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L118">linear_map.to_matrix</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">(a : (n → R) →ₗ[R] m → R)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R</div>
<div class="indent"><p>The map from linear maps (n → R) →ₗ[R] (m → R) to matrix m n R.</p>
       </div>
</div><div class="thm"><a id="to_matrix_to_lin"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L129">to_matrix_to_lin</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">{f : (n → R) →ₗ[R] m → R}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#linear_map.to_matrix">linear_map.to_matrix</a> f) = f</div>
<div class="indent"><p>to<em>lin is the left inverse of to</em>matrix.</p>
       </div>
</div><div class="thm"><a id="to_lin_to_matrix"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L153">to_lin_to_matrix</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">{M : <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#linear_map.to_matrix">linear_map.to_matrix</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> M) = M</div>
<div class="indent"><p>to<em>lin is the right inverse of to</em>matrix.</p>
       </div>
</div><div class="def"><a id="linear_equiv_matrix'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L168">linear_equiv_matrix'</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">:</span>       <div class="decl_type">((n → R) →ₗ[R] m → R) ≃ₗ[R] <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> m n R</div>
<div class="indent"><p>Linear maps (n → R) →ₗ[R] (m → R) are linearly equivalent to matrix  m n R.</p>
       </div>
</div><div class="def"><a id="linear_equiv_matrix"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L178">linear_equiv_matrix</a></span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">{ι κ : Type u_1}</span> <span class="decl_args">{M₁ : Type u_2}</span> <span class="decl_args">{M₂ : Type u_3}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/group.html#add_comm_group">add_comm_group</a> M₁]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/algebra/module.html#module">module</a> R M₁]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/group.html#add_comm_group">add_comm_group</a> M₂]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/algebra/module.html#module">module</a> R M₂]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> ι]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> ι]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> κ]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> κ]</span> <span class="decl_args">{v₁ : ι → M₁}</span> <span class="decl_args">{v₂ : κ → M₂}</span> <span class="decl_args">(hv₁ : <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basis.html#is_basis">is_basis</a> R v₁)</span> <span class="decl_args">(hv₂ : <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basis.html#is_basis">is_basis</a> R v₂)</span> <span class="decl_args">:</span>       <div class="decl_type">(M₁ →ₗ[R] M₂) ≃ₗ[R] <a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix">matrix</a> κ ι R</div>
<div class="indent"><p>Given a basis of two modules M₁ and M₂ over a commutative ring R, we get a linear equivalence
between linear maps M₁ →ₗ M₂ and matrices over R indexed by the bases.</p>
       </div>
</div><div class="thm"><a id="matrix.proj_diagonal"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L195">matrix.proj_diagonal</a></span> <span class="decl_args">{m : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">(i : m)</span> <span class="decl_args">(w : m → R)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/algebra/module.html#linear_map.comp">linear_map.comp</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.proj">linear_map.proj</a> i) (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w)) = w i • <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.proj">linear_map.proj</a> i</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.diagonal_comp_std_basis"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L199">matrix.diagonal_comp_std_basis</a></span> <span class="decl_args">{n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{R : Type v}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/ring.html#comm_ring">comm_ring</a> R]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">(w : n → R)</span> <span class="decl_args">(i : n)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/algebra/module.html#linear_map.comp">linear_map.comp</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w)) (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.std_basis">linear_map.std_basis</a> R (λ (_x : n), R) i) =
  w i • <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.std_basis">linear_map.std_basis</a> R (λ (_x : n), R) i</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.rank_vec_mul_vec"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L218">matrix.rank_vec_mul_vec</a></span> <span class="decl_args">{m n : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> n]</span> <span class="decl_args">{K : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/field.html#discrete_field">discrete_field</a> K]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> n]</span> <span class="decl_args">(w : m → K)</span> <span class="decl_args">(v : n → K)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/dimension.html#rank">rank</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.vec_mul_vec">matrix.vec_mul_vec</a> w v)) ≤ 1</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.diagonal_to_lin"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L230">matrix.diagonal_to_lin</a></span> <span class="decl_args">{m : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">{K : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/field.html#discrete_field">discrete_field</a> K]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">(w : m → K)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w) = <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.pi">linear_map.pi</a> (λ (i : m), w i • <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.proj">linear_map.proj</a> i)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.ker_diagonal_to_lin"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L234">matrix.ker_diagonal_to_lin</a></span> <span class="decl_args">{m : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">{K : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/field.html#discrete_field">discrete_field</a> K]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">(w : m → K)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.ker">linear_map.ker</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w)) =
  ⨆ (i : m) (H : i ∈ {i : m | w i = 0}), <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.range">linear_map.range</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.std_basis">linear_map.std_basis</a> K (λ (i : m), K) i)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.range_diagonal"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L244">matrix.range_diagonal</a></span> <span class="decl_args">{m : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">{K : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/field.html#discrete_field">discrete_field</a> K]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">(w : m → K)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.range">linear_map.range</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w)) =
  ⨆ (i : m) (H : i ∈ {i : m | w i ≠ 0}), <a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.range">linear_map.range</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/basic.html#linear_map.std_basis">linear_map.std_basis</a> K (λ (i : m), K) i)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="matrix.rank_diagonal"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/linear_algebra/matrix.lean#L253">matrix.rank_diagonal</a></span> <span class="decl_args">{m : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype">fintype</a> m]</span> <span class="decl_args">{K : Type u}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/field.html#discrete_field">discrete_field</a> K]</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> m]</span> <span class="decl_args">(w : m → K)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/linear_algebra/dimension.html#rank">rank</a> (<a href="https://robertylewis.com/mathlib_docs/linear_algebra/matrix.html#matrix.to_lin">matrix.to_lin</a> (<a href="https://robertylewis.com/mathlib_docs/data/matrix/basic.html#matrix.diagonal">matrix.diagonal</a> w)) = ↑(<a href="https://robertylewis.com/mathlib_docs/data/fintype.html#fintype.card">fintype.card</a> {i // w i ≠ 0})</div>
<div class="indent"><p></p>
       </div>
</div></body></html>