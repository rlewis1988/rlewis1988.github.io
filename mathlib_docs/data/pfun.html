<!DOCTYPE html><html lang="en"><head><title>data.pfun</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><p></p>
</div><div class="cnst"><a id="roption"></a>      <span class="decl_name">roption</span> <span class="decl_args">(α : Type u)</span> <span class="decl_args">:</span>       <div class="decl_type">Type u</div>
<div class="indent"><p><code>roption α</code> is the type of "partial values" of type <code>α</code>. It
 is similar to <code>option α</code> except the domain condition can be an
 arbitrary proposition, not necessarily decidable.</p>
       </div>
</div><div class="def"><a id="roption.to_option"></a>      <span class="decl_name">roption.to_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> (o.dom)]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α</div>
<div class="indent"><p>Convert an <code>roption α</code> with a decidable domain to an option</p>
       </div>
</div><div class="thm"><a id="roption.ext'"></a>      <span class="decl_name">roption.ext'</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o p : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">(H1 : o.dom ↔ p.dom)</span> <span class="decl_args">(H2 : ∀ (h₁ : o.dom) (h₂ : p.dom), o.get h₁ = p.get h₂)</span> <span class="decl_args">:</span>       <div class="decl_type">o = p</div>
<div class="indent"><p><code>roption</code> extensionality</p>
       </div>
</div><div class="thm"><a id="roption.eta"></a>      <span class="decl_name">roption.eta</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">{dom := o.dom, <a href="https://robertylewis.com/mathlib_docs/core/init/category/state.html#get">get</a> := λ (h : o.dom), o.get h} = o</div>
<div class="indent"><p><code>roption</code> eta expansion</p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.mem"></a>      <span class="decl_name">roption.mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">Prop</div>
<div class="indent"><p><code>a ∈ o</code> means that <code>o</code> is defined and equal to <code>a</code></p>
       </div>
</div><div class="def"><a id="roption.has_mem"></a>      <span class="decl_name">roption.has_mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_mem">has_mem</a> α (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="roption.mem_eq"></a>      <span class="decl_name">roption.mem_eq</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ o = ∃ (h : o.dom), o.get h = a</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.dom_iff_mem"></a>      <span class="decl_name">roption.dom_iff_mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">o.dom ↔ ∃ (y : α), y ∈ o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.get_mem"></a>      <span class="decl_name">roption.get_mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">(h : o.dom)</span> <span class="decl_args">:</span>       <div class="decl_type">o.get h ∈ o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.ext"></a>      <span class="decl_name">roption.ext</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o p : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">(H : ∀ (a : α), a ∈ o ↔ a ∈ p)</span> <span class="decl_args">:</span>       <div class="decl_type">o = p</div>
<div class="indent"><p><code>roption</code> extensionality</p>
       </div>
</div><div class="def"><a id="roption.none"></a>      <span class="decl_name">roption.none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α</div>
<div class="indent"><p>The <code>none</code> value in <code>roption</code> has a <code>false</code> domain and an empty function.</p>
       </div>
</div><div class="thm"><a id="roption.not_mem_none"></a>      <span class="decl_name">roption.not_mem_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type">a ∉ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.some"></a>      <span class="decl_name">roption.some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α</div>
<div class="indent"><p>The <code>some a</code> value in <code>roption</code> has a <code>true</code> domain and the
 function returns <code>a</code>.</p>
       </div>
</div><div class="thm"><a id="roption.mem_unique"></a>      <span class="decl_name">roption.mem_unique</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/logic/relator.html#relator.left_unique">relator.left_unique</a> has_mem.mem</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.get_eq_of_mem"></a>      <span class="decl_name">roption.get_eq_of_mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">(h : a ∈ o)</span> <span class="decl_args">(h' : o.dom)</span> <span class="decl_args">:</span>       <div class="decl_type">o.get h' = a</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.get_some"></a>      <span class="decl_name">roption.get_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">(ha : (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a).dom)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a).get ha = a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.mem_some"></a>      <span class="decl_name">roption.mem_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.mem_some_iff"></a>      <span class="decl_name">roption.mem_some_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a b : α}</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a ↔ b = a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.eq_some_iff"></a>      <span class="decl_name">roption.eq_some_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">o = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a ↔ a ∈ o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.eq_none_iff"></a>      <span class="decl_name">roption.eq_none_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">o = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> ↔ ∀ (a : α), a ∉ o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.eq_none_iff'"></a>      <span class="decl_name">roption.eq_none_iff'</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">o = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> ↔ ¬o.dom</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.some_ne_none"></a>      <span class="decl_name">roption.some_ne_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> x ≠ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a></div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.ne_none_iff"></a>      <span class="decl_name">roption.ne_none_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">o ≠ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> ↔ ∃ (x : α), o = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.some_inj"></a>      <span class="decl_name">roption.some_inj</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a b : α}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> b ↔ a = b</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.some_get"></a>      <span class="decl_name">roption.some_get</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">(ha : a.dom)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> (a.get ha) = a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.get_eq_iff_eq_some"></a>      <span class="decl_name">roption.get_eq_iff_eq_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{ha : a.dom}</span> <span class="decl_args">{b : α}</span> <span class="decl_args">:</span>       <div class="decl_type">a.get ha = b ↔ a = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> b</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="roption.none_decidable"></a>      <span class="decl_name">roption.none_decidable</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> (roption.none.dom)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="roption.some_decidable"></a>      <span class="decl_name">roption.some_decidable</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> ((<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a).dom)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="roption.get_or_else"></a>      <span class="decl_name">roption.get_or_else</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> (a.dom)]</span> <span class="decl_args">(d : α)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.get_or_else_none"></a>      <span class="decl_name">roption.get_or_else_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(d : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.get_or_else">roption.get_or_else</a> <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> d = d</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.get_or_else_some"></a>      <span class="decl_name">roption.get_or_else_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a d : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.get_or_else">roption.get_or_else</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a) d = a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.mem_to_option"></a>      <span class="decl_name">roption.mem_to_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> (o.dom)]</span> <span class="decl_args">{a : α}</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.to_option">roption.to_option</a> o ↔ a ∈ o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.of_option"></a>      <span class="decl_name">roption.of_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α</div>
<div class="indent"><p>Convert an <code>option α</code> into an <code>roption α</code></p>
       </div>
</div><div class="thm"><a id="roption.mem_of_option"></a>      <span class="decl_name">roption.mem_of_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> o ↔ a ∈ o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.of_option_dom"></a>      <span class="decl_name">roption.of_option_dom</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> o).dom ↔ ↥(<a href="https://robertylewis.com/mathlib_docs/core/init/data/option/basic.html#option.is_some">option.is_some</a> o)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.of_option_eq_get"></a>      <span class="decl_name">roption.of_option_eq_get</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> o = {dom := ↥(<a href="https://robertylewis.com/mathlib_docs/core/init/data/option/basic.html#option.is_some">option.is_some</a> o), <a href="https://robertylewis.com/mathlib_docs/core/init/category/state.html#get">get</a> := <a href="https://robertylewis.com/mathlib_docs/core/init/data/option/basic.html#option.get">option.get</a> o}</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="roption.has_coe"></a>      <span class="decl_name">roption.has_coe</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/coe.html#has_coe">has_coe</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α) (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="roption.mem_coe"></a>      <span class="decl_name">roption.mem_coe</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ ↑o ↔ a ∈ o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.coe_none"></a>      <span class="decl_name">roption.coe_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type">↑option.none = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.coe_some"></a>      <span class="decl_name">roption.coe_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type">↑(option.some a) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.induction_on"></a>      <span class="decl_name">roption.induction_on</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{P : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α → Prop}</span> <span class="decl_args">(a : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(hnone : P <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a>)</span> <span class="decl_args">(hsome : ∀ (a : α), P (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a))</span> <span class="decl_args">:</span>       <div class="decl_type">P a</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="roption.of_option_decidable"></a>      <span class="decl_name">roption.of_option_decidable</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> ((<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> o).dom)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="roption.to_of_option"></a>      <span class="decl_name">roption.to_of_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.to_option">roption.to_option</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> o) = o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.of_to_option"></a>      <span class="decl_name">roption.of_to_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">[<a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable">decidable</a> (o.dom)]</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.of_option">roption.of_option</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.to_option">roption.to_option</a> o) = o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.equiv_option"></a>      <span class="decl_name">roption.equiv_option</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α ≃ <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> α</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="roption.assert"></a>      <span class="decl_name">roption.assert</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">(f : p → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α</div>
<div class="indent"><p><code>assert p f</code> is a bind-like operation which appends an additional condition
 <code>p</code> to the domain and uses <code>f</code> to produce the value.</p>
       </div>
</div><div class="def"><a id="roption.bind"></a>      <span class="decl_name">roption.bind</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β</div>
<div class="indent"><p>The bind operation has value <code>g (f.get)</code>, and is defined when all the
 parts are defined.</p>
       </div>
</div><div class="def"><a id="roption.map"></a>      <span class="decl_name">roption.map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β</div>
<div class="indent"><p>The map operation for <code>roption</code> just maps the value and maintains the same domain.</p>
       </div>
</div><div class="thm"><a id="roption.mem_map"></a>      <span class="decl_name">roption.mem_map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">(a_1 : a ∈ o)</span> <span class="decl_args">:</span>       <div class="decl_type">f a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.mem_map_iff"></a>      <span class="decl_name">roption.mem_map_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">{o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f o ↔ ∃ (a : α) (H : a ∈ o), f a = b</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.map_none"></a>      <span class="decl_name">roption.map_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.map_some"></a>      <span class="decl_name">roption.map_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> (f a)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.mem_assert"></a>      <span class="decl_name">roption.mem_assert</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{p : Prop}</span> <span class="decl_args">{f : p → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">(h : p)</span> <span class="decl_args">(a_1 : a ∈ f h)</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.assert">roption.assert</a> p f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.mem_assert_iff"></a>      <span class="decl_name">roption.mem_assert_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{p : Prop}</span> <span class="decl_args">{f : p → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.assert">roption.assert</a> p f ↔ ∃ (h : p), a ∈ f h</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.mem_bind"></a>      <span class="decl_name">roption.mem_bind</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">(a_1 : a ∈ f)</span> <span class="decl_args">(a_2 : b ∈ g a)</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.mem_bind_iff"></a>      <span class="decl_name">roption.mem_bind_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g ↔ ∃ (a : α) (H : a ∈ f), b ∈ g a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.bind_none"></a>      <span class="decl_name">roption.bind_none</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a> f = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.none">roption.none</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.bind_some"></a>      <span class="decl_name">roption.bind_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">(f : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a) f = f a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.bind_some_eq_map"></a>      <span class="decl_name">roption.bind_some_eq_map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> x (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> ∘ f) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.bind_assoc"></a>      <span class="decl_name">roption.bind_assoc</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">(k : β → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g) k = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f (λ (x : α), <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> (g x) k)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.bind_map"></a>      <span class="decl_name">roption.bind_map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(g : β → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f x) g = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> x (λ (y : α), g (f y))</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.map_bind"></a>      <span class="decl_name">roption.map_bind</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(f : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(g : β → γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> g (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> x f) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> x (λ (y : α), <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> g (f y))</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.map_map"></a>      <span class="decl_name">roption.map_map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(g : β → γ)</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> g (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f o) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> (g ∘ f) o</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="roption.monad"></a>      <span class="decl_name">roption.monad</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="roption.is_lawful_monad"></a>      <span class="decl_name">roption.is_lawful_monad</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/lawful.html#is_lawful_monad">is_lawful_monad</a> <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="roption.map_id'"></a>      <span class="decl_name">roption.map_id'</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{f : α → α}</span> <span class="decl_args">(H : ∀ (x : α), f x = x)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f o = o</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.bind_some_right"></a>      <span class="decl_name">roption.bind_some_right</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(x : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> x <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> = x</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.ret_eq_some"></a>      <span class="decl_name">roption.ret_eq_some</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#return">return</a> a = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.map_eq_map"></a>      <span class="decl_name">roption.map_eq_map</span> <span class="decl_args">{α β : Type u_1}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">f <$> o = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.map">roption.map</a> f o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="roption.bind_eq_bind"></a>      <span class="decl_name">roption.bind_eq_bind</span> <span class="decl_args">{α β : Type u_1}</span> <span class="decl_args">(f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type">f >>= g = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.monad_fail"></a>      <span class="decl_name">roption.monad_fail</span>  <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad_fail.html#monad_fail">monad_fail</a> <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a></div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="roption.restrict"></a>      <span class="decl_name">roption.restrict</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(a : p → o.dom)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.mem_restrict"></a>      <span class="decl_name">roption.mem_restrict</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(p : Prop)</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">(h : p → o.dom)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type">a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.restrict">roption.restrict</a> p o h ↔ p ∧ a ∈ o</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="roption.unwrap"></a>      <span class="decl_name">roption.unwrap</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(o : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">α</div>
<div class="indent"><p><code>unwrap o</code> gets the value at <code>o</code>, ignoring the condition.
 (This function is unsound.)</p>
       </div>
</div><div class="thm"><a id="roption.assert_defined"></a>      <span class="decl_name">roption.assert_defined</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{p : Prop}</span> <span class="decl_args">{f : p → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">(h : p)</span> <span class="decl_args">(a : (f h).dom)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.assert">roption.assert</a> p f).dom</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.bind_defined"></a>      <span class="decl_name">roption.bind_defined</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β}</span> <span class="decl_args">(h : f.dom)</span> <span class="decl_args">(a : (g (f.get h)).dom)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g).dom</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="roption.bind_dom"></a>      <span class="decl_name">roption.bind_dom</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> α}</span> <span class="decl_args">{g : α → <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption">roption</a> β}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.bind">roption.bind</a> f g).dom ↔ ∃ (h : f.dom), (g (f.get h)).dom</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="pfun"></a>      <span class="decl_name">pfun</span> <span class="decl_args">(α : Type u_1)</span> <span class="decl_args">(β : Type u_2)</span> <span class="decl_args">:</span>       <div class="decl_type">Type (<a href="https://robertylewis.com/mathlib_docs/core/init/algebra/functions.html#max">max</a> u_1 u_2)</div>
<div class="indent"><p><code>pfun α β</code>, or <code>α →. β</code>, is the type of partial functions from
 <code>α</code> to <code>β</code>. It is defined as <code>α → roption β</code>.</p>
       </div>
</div><div class="def"><a id="pfun.dom"></a>      <span class="decl_name">pfun.dom</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α</div>
<div class="indent"><p>The domain of a partial function</p>
       </div>
</div><div class="thm"><a id="pfun.mem_dom"></a>      <span class="decl_name">pfun.mem_dom</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f ↔ ∃ (y : β), y ∈ f x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.dom_eq"></a>      <span class="decl_name">pfun.dom_eq</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f = {x : α | ∃ (y : β), y ∈ f x}</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.fn"></a>      <span class="decl_name">pfun.fn</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">(h : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f x)</span> <span class="decl_args">:</span>       <div class="decl_type">β</div>
<div class="indent"><p>Evaluate a partial function</p>
       </div>
</div><div class="def"><a id="pfun.eval_opt"></a>      <span class="decl_name">pfun.eval_opt</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">[D : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_pred">decidable_pred</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f)]</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#option">option</a> β</div>
<div class="indent"><p>Evaluate a partial function to return an <code>option</code></p>
       </div>
</div><div class="thm"><a id="pfun.ext'"></a>      <span class="decl_name">pfun.ext'</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f g : α →. β}</span> <span class="decl_args">(H1 : ∀ (a : α), a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f ↔ a ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> g)</span> <span class="decl_args">(H2 : ∀ (a : α) (p : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f a) (q : <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> g a), <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fn">pfun.fn</a> f a p = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fn">pfun.fn</a> g a q)</span> <span class="decl_args">:</span>       <div class="decl_type">f = g</div>
<div class="indent"><p>Partial function extensionality</p>
       </div>
</div><div class="thm"><a id="pfun.ext"></a>      <span class="decl_name">pfun.ext</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f g : α →. β}</span> <span class="decl_args">(H : ∀ (a : α) (b : β), b ∈ f a ↔ b ∈ g a)</span> <span class="decl_args">:</span>       <div class="decl_type">f = g</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.as_subtype"></a>      <span class="decl_name">pfun.as_subtype</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : {x // <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f x})</span> <span class="decl_args">:</span>       <div class="decl_type">β</div>
<div class="indent"><p>Turn a partial function into a function out of a subtype</p>
       </div>
</div><div class="def"><a id="pfun.equiv_subtype"></a>      <span class="decl_name">pfun.equiv_subtype</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">:</span>       <div class="decl_type">(α →. β) ≃ Σ (p : α → Prop), <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#subtype">subtype</a> p → β</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.as_subtype_eq_of_mem"></a>      <span class="decl_name">pfun.as_subtype_eq_of_mem</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α →. β}</span> <span class="decl_args">{x : α}</span> <span class="decl_args">{y : β}</span> <span class="decl_args">(fxy : y ∈ f x)</span> <span class="decl_args">(domx : x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.as_subtype">pfun.as_subtype</a> f ⟨x, domx⟩ = y</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.lift"></a>      <span class="decl_name">pfun.lift</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. β</div>
<div class="indent"><p>Turn a total function into a partial function</p>
       </div>
</div><div class="def"><a id="pfun.has_coe"></a>      <span class="decl_name">pfun.has_coe</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/coe.html#has_coe">has_coe</a> (α → β) (α →. β)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="pfun.lift_eq_coe"></a>      <span class="decl_name">pfun.lift_eq_coe</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.lift">pfun.lift</a> f = ↑f</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="pfun.coe_val"></a>      <span class="decl_name">pfun.coe_val</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">:</span>       <div class="decl_type">↑f a = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#roption.some">roption.some</a> (f a)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="pfun.graph"></a>      <span class="decl_name">pfun.graph</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> (α × β)</div>
<div class="indent"><p>The graph of a partial function is the set of pairs
 <code>(x, f x)</code> where <code>x</code> is in the domain of <code>f</code>.</p>
       </div>
</div><div class="def"><a id="pfun.graph'"></a>      <span class="decl_name">pfun.graph'</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/rel.html#rel">rel</a> α β</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.ran"></a>      <span class="decl_name">pfun.ran</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β</div>
<div class="indent"><p>The range of a partial function is the set of values
 <code>f x</code> where <code>x</code> is in the domain of <code>f</code>.</p>
       </div>
</div><div class="def"><a id="pfun.restrict"></a>      <span class="decl_name">pfun.restrict</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">{p : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">(H : p ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. β</div>
<div class="indent"><p>Restrict a partial function to a smaller domain.</p>
       </div>
</div><div class="thm"><a id="pfun.mem_restrict"></a>      <span class="decl_name">pfun.mem_restrict</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α →. β}</span> <span class="decl_args">{s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">(h : s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">(b : β)</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.restrict">pfun.restrict</a> f h a ↔ a ∈ s ∧ b ∈ f a</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="pfun.res"></a>      <span class="decl_name">pfun.res</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. β</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_res"></a>      <span class="decl_name">pfun.mem_res</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">(a : α)</span> <span class="decl_args">(b : β)</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.res">pfun.res</a> f s a ↔ a ∈ s ∧ f a = b</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.res_univ"></a>      <span class="decl_name">pfun.res_univ</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.res">pfun.res</a> f <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set.univ">set.univ</a> = ↑f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.dom_iff_graph"></a>      <span class="decl_name">pfun.dom_iff_graph</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f ↔ ∃ (y : β), (x, y) ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.graph">pfun.graph</a> f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.lift_graph"></a>      <span class="decl_name">pfun.lift_graph</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α → β}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">:</span>       <div class="decl_type">(a, b) ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.graph">pfun.graph</a> ↑f ↔ f a = b</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.pure"></a>      <span class="decl_name">pfun.pure</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(x : β)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. β</div>
<div class="indent"><p>The monad <code>pure</code> function, the total constant <code>x</code> function</p>
       </div>
</div><div class="def"><a id="pfun.bind"></a>      <span class="decl_name">pfun.bind</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(g : β → α →. γ)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. γ</div>
<div class="indent"><p>The monad <code>bind</code> function, pointwise <code>roption.bind</code></p>
       </div>
</div><div class="def"><a id="pfun.map"></a>      <span class="decl_name">pfun.map</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(f : β → γ)</span> <span class="decl_args">(g : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. γ</div>
<div class="indent"><p>The monad <code>map</code> function, pointwise <code>roption.map</code></p>
       </div>
</div><div class="def"><a id="pfun.monad"></a>      <span class="decl_name">pfun.monad</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun">pfun</a> α)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="pfun.is_lawful_monad"></a>      <span class="decl_name">pfun.is_lawful_monad</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/category/lawful.html#is_lawful_monad">is_lawful_monad</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun">pfun</a> α)</div>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="thm"><a id="pfun.pure_defined"></a>      <span class="decl_name">pfun.pure_defined</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(p : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">(x : β)</span> <span class="decl_args">:</span>       <div class="decl_type">p ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.pure">pfun.pure</a> x)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.bind_defined"></a>      <span class="decl_name">pfun.bind_defined</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β γ : Type u_2}</span> <span class="decl_args">(p : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">{f : α →. β}</span> <span class="decl_args">{g : β → α →. γ}</span> <span class="decl_args">(H1 : p ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f)</span> <span class="decl_args">(H2 : ∀ (x : β), p ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> (g x))</span> <span class="decl_args">:</span>       <div class="decl_type">p ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> (f >>= g)</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.fix"></a>      <span class="decl_name">pfun.fix</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β ⊕ α)</span> <span class="decl_args">:</span>       <div class="decl_type">α →. β</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.dom_of_mem_fix"></a>      <span class="decl_name">pfun.dom_of_mem_fix</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α →. β ⊕ α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">(h : b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a)</span> <span class="decl_args">:</span>       <div class="decl_type">(f a).dom</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_fix_iff"></a>      <span class="decl_name">pfun.mem_fix_iff</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α →. β ⊕ α}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">:</span>       <div class="decl_type">b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a ↔ sum.inl b ∈ f a ∨ ∃ (a' : α), sum.inr a' ∈ f a ∧ b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a'</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.fix_induction"></a>      <span class="decl_name">pfun.fix_induction</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{f : α →. β ⊕ α}</span> <span class="decl_args">{b : β}</span> <span class="decl_args">{C : α → Sort u_3}</span> <span class="decl_args">{a : α}</span> <span class="decl_args">(h : b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a)</span> <span class="decl_args">(H : Π (a : α), b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a → (Π (a' : α), b ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.fix">pfun.fix</a> f a' → sum.inr a' ∈ f a → C a') → C a)</span> <span class="decl_args">:</span>       <div class="decl_type">C a</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.image"></a>      <span class="decl_name">pfun.image</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.image_def"></a>      <span class="decl_name">pfun.image_def</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f s = {y : β | ∃ (x : α) (H : x ∈ s), y ∈ f x}</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_image"></a>      <span class="decl_name">pfun.mem_image</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(y : β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">y ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f s ↔ ∃ (x : α) (H : x ∈ s), y ∈ f x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.image_mono"></a>      <span class="decl_name">pfun.image_mono</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">{s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">(h : s ⊆ t)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.image_inter"></a>      <span class="decl_name">pfun.image_inter</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f (s ∩ t) ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f s ∩ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.image_union"></a>      <span class="decl_name">pfun.image_union</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f (s ∪ t) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f s ∪ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.image">pfun.image</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.preimage"></a>      <span class="decl_name">pfun.preimage</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_def"></a>      <span class="decl_name">pfun.preimage_def</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s = {x : α | ∃ (y : β) (H : y ∈ s), y ∈ f x}</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_preimage"></a>      <span class="decl_name">pfun.mem_preimage</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ↔ ∃ (y : β) (H : y ∈ s), y ∈ f x</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_subset_dom"></a>      <span class="decl_name">pfun.preimage_subset_dom</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_mono"></a>      <span class="decl_name">pfun.preimage_mono</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">{s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β}</span> <span class="decl_args">(h : s ⊆ t)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_inter"></a>      <span class="decl_name">pfun.preimage_inter</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f (s ∩ t) ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ∩ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_union"></a>      <span class="decl_name">pfun.preimage_union</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f (s ∪ t) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ∪ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_univ"></a>      <span class="decl_name">pfun.preimage_univ</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set.univ">set.univ</a> = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="pfun.core"></a>      <span class="decl_name">pfun.core</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_def"></a>      <span class="decl_name">pfun.core_def</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s = {x : α | ∀ (y : β), y ∈ f x → y ∈ s}</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_core"></a>      <span class="decl_name">pfun.mem_core</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type">x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s ↔ ∀ (y : β), y ∈ f x → y ∈ s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.compl_dom_subset_core"></a>      <span class="decl_name">pfun.compl_dom_subset_core</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type">-pfun.dom f ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_mono"></a>      <span class="decl_name">pfun.core_mono</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">{s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β}</span> <span class="decl_args">(h : s ⊆ t)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_inter"></a>      <span class="decl_name">pfun.core_inter</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f (s ∩ t) = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s ∩ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.mem_core_res"></a>      <span class="decl_name">pfun.mem_core_res</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">x ∈ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.res">pfun.res</a> f s) t ↔ x ∈ s → f x ∈ t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_res"></a>      <span class="decl_name">pfun.core_res</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">(t : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> (<a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.res">pfun.res</a> f s) t = -s ∪ f ⁻¹' t</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_restrict"></a>      <span class="decl_name">pfun.core_restrict</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α → β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> ↑f s = f ⁻¹' s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_subset_core"></a>      <span class="decl_name">pfun.preimage_subset_core</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ⊆ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_eq"></a>      <span class="decl_name">pfun.preimage_eq</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s ∩ <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.dom">pfun.dom</a> f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.core_eq"></a>      <span class="decl_name">pfun.core_eq</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.core">pfun.core</a> f s = <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s ∪ -pfun.dom f</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="pfun.preimage_as_subtype"></a>      <span class="decl_name">pfun.preimage_as_subtype</span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(f : α →. β)</span> <span class="decl_args">(s : <a href="https://robertylewis.com/mathlib_docs/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.as_subtype">pfun.as_subtype</a> f ⁻¹' s = subtype.val ⁻¹' <a href="https://robertylewis.com/mathlib_docs/data/pfun.html#pfun.preimage">pfun.preimage</a> f s</div>
<div class="indent"><p></p>
       </div>
</div></body></html>