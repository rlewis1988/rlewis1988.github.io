<html><head><title>data.pnat.xgcd</title><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><p></p>
</div><div class="entry"><a id="pnat.xgcd_type">      <h4>pnat.xgcd_type</h4><code>Type</code>
<div class="indent"><p><p>A term of xgcd_type is a system of six naturals.  They should
be thought of as representing the matrix
[[w, x], [y, z]] = [[wp + 1, x], [y, zp + 1]]
together with the vector [a, b] = [ap + 1, bp + 1].</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.has_sizeof">      <h4>pnat.xgcd_type.has_sizeof</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_sizeof">has_sizeof</a> <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p></p>
</p>       Attributes: instance</div>
</div><div class="entry"><a id="pnat.xgcd_type.has_repr">      <h4>pnat.xgcd_type.has_repr</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/data/repr.html#has_repr">has_repr</a> <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p>The has_repr instance converts terms to strings in a way that
reflects the matrix/vector interpretation as above.</p>
</p>       Attributes: instance</div>
</div><div class="entry"><a id="pnat.xgcd_type.mk'">      <h4>pnat.xgcd_type.mk'</h4><code>ℕ+ → ℕ → ℕ → ℕ+ → ℕ+ → ℕ+ → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.w">      <h4>pnat.xgcd_type.w</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.z">      <h4>pnat.xgcd_type.z</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.a">      <h4>pnat.xgcd_type.a</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.b">      <h4>pnat.xgcd_type.b</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.r">      <h4>pnat.xgcd_type.r</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.q">      <h4>pnat.xgcd_type.q</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.qp">      <h4>pnat.xgcd_type.qp</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.vp">      <h4>pnat.xgcd_type.vp</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ × ℕ</code>
<div class="indent"><p><p>The map v gives the product of the matrix
[[w, x], [y, z]] = [[wp + 1, x], [y, zp + 1]]
and the vector [a, b] = [ap + 1, bp + 1].  The map
vp gives [sp, tp] such that v = [sp + 1, tp + 1].</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.v">      <h4>pnat.xgcd_type.v</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → ℕ × ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.succ₂">      <h4>pnat.xgcd_type.succ₂</h4><code>ℕ × ℕ → ℕ × ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.v_eq_succ_vp">      <h4>pnat.xgcd_type.v_eq_succ_vp</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> u = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.succ₂">pnat.xgcd_type.succ₂</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.vp">pnat.xgcd_type.vp</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_special">      <h4>pnat.xgcd_type.is_special</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → Prop</code>
<div class="indent"><p><p>is_special holds if the matrix has determinant one.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_special'">      <h4>pnat.xgcd_type.is_special'</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → Prop</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_special_iff">      <h4>pnat.xgcd_type.is_special_iff</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u ↔ <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special'">pnat.xgcd_type.is_special'</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_reduced">      <h4>pnat.xgcd_type.is_reduced</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → Prop</code>
<div class="indent"><p><p>is_reduced holds if the two entries in the vector are the
same.  The reduction algorithm will produce a system with this
property, whose product vector is the same as for the original
system.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_reduced'">      <h4>pnat.xgcd_type.is_reduced'</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → Prop</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.is_reduced_iff">      <h4>pnat.xgcd_type.is_reduced_iff</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced">pnat.xgcd_type.is_reduced</a> u ↔ <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced'">pnat.xgcd_type.is_reduced'</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.flip">      <h4>pnat.xgcd_type.flip</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_w">      <h4>pnat.xgcd_type.flip_w</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.w">pnat.xgcd_type.w</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.z">pnat.xgcd_type.z</a> u</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_x">      <h4>pnat.xgcd_type.flip_x</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u).x = u.y</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_y">      <h4>pnat.xgcd_type.flip_y</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u).y = u.x</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_z">      <h4>pnat.xgcd_type.flip_z</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.z">pnat.xgcd_type.z</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.w">pnat.xgcd_type.w</a> u</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_a">      <h4>pnat.xgcd_type.flip_a</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.a">pnat.xgcd_type.a</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.b">pnat.xgcd_type.b</a> u</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_b">      <h4>pnat.xgcd_type.flip_b</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.b">pnat.xgcd_type.b</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.a">pnat.xgcd_type.a</a> u</code>
<div class="indent"><p><p></p>
</p>       Attributes: simp</div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_is_reduced">      <h4>pnat.xgcd_type.flip_is_reduced</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced">pnat.xgcd_type.is_reduced</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) ↔ <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced">pnat.xgcd_type.is_reduced</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_is_special">      <h4>pnat.xgcd_type.flip_is_special</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) ↔ <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.flip_v">      <h4>pnat.xgcd_type.flip_v</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/prod.html#prod.swap">prod.swap</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.rq_eq">      <h4>pnat.xgcd_type.rq_eq</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u + (u.bp + 1) * <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.q">pnat.xgcd_type.q</a> u = u.ap + 1</code>
<div class="indent"><p><p>Properties of division with remainder for a / b.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.qp_eq">      <h4>pnat.xgcd_type.qp_eq</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u = 0 → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.q">pnat.xgcd_type.q</a> u = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.qp">pnat.xgcd_type.qp</a> u + 1</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.start">      <h4>pnat.xgcd_type.start</h4><code>ℕ+ → ℕ+ → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p>The following function provides the starting point for
our algorithm.  We will apply an iterative reduction process
to it, which will produce a system satisfying is_reduced.
The gcd can be read off from this final system.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.start_is_special">      <h4>pnat.xgcd_type.start_is_special</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.start">pnat.xgcd_type.start</a> a b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.start_v">      <h4>pnat.xgcd_type.start_v</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.start">pnat.xgcd_type.start</a> a b) = (↑a, ↑b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.finish">      <h4>pnat.xgcd_type.finish</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.finish_is_reduced">      <h4>pnat.xgcd_type.finish_is_reduced</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced">pnat.xgcd_type.is_reduced</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.finish">pnat.xgcd_type.finish</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.finish_is_special">      <h4>pnat.xgcd_type.finish_is_special</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.finish">pnat.xgcd_type.finish</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.finish_v">      <h4>pnat.xgcd_type.finish_v</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u = 0 → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.finish">pnat.xgcd_type.finish</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.step">      <h4>pnat.xgcd_type.step</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p>This is the main reduction step, which is used when u.r ≠ 0, or
equivalently b does not divide a.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.step_wf">      <h4>pnat.xgcd_type.step_wf</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u ≠ 0 → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#sizeof">sizeof</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.step">pnat.xgcd_type.step</a> u) < <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#sizeof">sizeof</a> u</code>
<div class="indent"><p><p>We will apply the above step recursively.  The following result
is used to ensure that the process terminates.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.step_is_special">      <h4>pnat.xgcd_type.step_is_special</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.step">pnat.xgcd_type.step</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.step_v">      <h4>pnat.xgcd_type.step_v</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>),
  <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u ≠ 0 → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.step">pnat.xgcd_type.step</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/prod.html#prod.swap">prod.swap</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> u)</code>
<div class="indent"><p><p>The reduction step does not change the product vector.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce">      <h4>pnat.xgcd_type.reduce</h4><code><a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a> → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p>We can now define the full reduction function, which applies
step as long as possible, and then applies finish. Note that the
"have" statement puts a fact in the local context, and the
equation compiler uses this fact to help construct the full
definition in terms of well-founded recursion.  The same fact
needs to be introduced in all the inductive proofs of properties
given below.</p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_a">      <h4>pnat.xgcd_type.reduce_a</h4><code>∀ {u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>}, <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u = 0 → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.finish">pnat.xgcd_type.finish</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_b">      <h4>pnat.xgcd_type.reduce_b</h4><code>∀ {u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>},
  <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.r">pnat.xgcd_type.r</a> u ≠ 0 →
  <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.flip">pnat.xgcd_type.flip</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.step">pnat.xgcd_type.step</a> u))</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_reduced">      <h4>pnat.xgcd_type.reduce_reduced</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced">pnat.xgcd_type.is_reduced</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_reduced'">      <h4>pnat.xgcd_type.reduce_reduced'</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_reduced'">pnat.xgcd_type.is_reduced'</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_special">      <h4>pnat.xgcd_type.reduce_special</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_special'">      <h4>pnat.xgcd_type.reduce_special'</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special">pnat.xgcd_type.is_special</a> u → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.is_special'">pnat.xgcd_type.is_special'</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd_type.reduce_v">      <h4>pnat.xgcd_type.reduce_v</h4><code>∀ (u : <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a>), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.reduce">pnat.xgcd_type.reduce</a> u) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type.v">pnat.xgcd_type.v</a> u</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.xgcd">      <h4>pnat.xgcd</h4><code>ℕ+ → ℕ+ → <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.xgcd_type">pnat.xgcd_type</a></code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_d">      <h4>pnat.gcd_d</h4><code>ℕ+ → ℕ+ → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_w">      <h4>pnat.gcd_w</h4><code>ℕ+ → ℕ+ → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_x">      <h4>pnat.gcd_x</h4><code>ℕ+ → ℕ+ → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_y">      <h4>pnat.gcd_y</h4><code>ℕ+ → ℕ+ → ℕ</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_z">      <h4>pnat.gcd_z</h4><code>ℕ+ → ℕ+ → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_a'">      <h4>pnat.gcd_a'</h4><code>ℕ+ → ℕ+ → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_b'">      <h4>pnat.gcd_b'</h4><code>ℕ+ → ℕ+ → ℕ+</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_a'_coe">      <h4>pnat.gcd_a'_coe</h4><code>∀ (a b : ℕ+), ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_a'">pnat.gcd_a'</a> a b) = ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_w">pnat.gcd_w</a> a b) + <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_x">pnat.gcd_x</a> a b</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_b'_coe">      <h4>pnat.gcd_b'_coe</h4><code>∀ (a b : ℕ+), ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_b'">pnat.gcd_b'</a> a b) = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_y">pnat.gcd_y</a> a b + ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_z">pnat.gcd_z</a> a b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_props">      <h4>pnat.gcd_props</h4><code>∀ (a b : ℕ+),
  let d : ℕ+ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_d">pnat.gcd_d</a> a b,
      w : ℕ+ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_w">pnat.gcd_w</a> a b,
      x : ℕ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_x">pnat.gcd_x</a> a b,
      y : ℕ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_y">pnat.gcd_y</a> a b,
      z : ℕ+ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_z">pnat.gcd_z</a> a b,
      a' : ℕ+ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_a'">pnat.gcd_a'</a> a b,
      b' : ℕ+ := <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_b'">pnat.gcd_b'</a> a b
  in w * z = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (x * y) ∧
       a = a' * d ∧
         b = b' * d ∧
           z * a' = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (x * ↑b') ∧
             w * b' = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (y * ↑a') ∧ ↑z * ↑a = x * ↑b + ↑d ∧ ↑w * ↑b = y * ↑a + ↑d</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_eq">      <h4>pnat.gcd_eq</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_d">pnat.gcd_d</a> a b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#pnat.gcd">pnat.gcd</a> a b</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_det_eq">      <h4>pnat.gcd_det_eq</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_w">pnat.gcd_w</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_z">pnat.gcd_z</a> a b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_x">pnat.gcd_x</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_y">pnat.gcd_y</a> a b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_a_eq">      <h4>pnat.gcd_a_eq</h4><code>∀ (a b : ℕ+), a = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_a'">pnat.gcd_a'</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#pnat.gcd">pnat.gcd</a> a b</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_b_eq">      <h4>pnat.gcd_b_eq</h4><code>∀ (a b : ℕ+), b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_b'">pnat.gcd_b'</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#pnat.gcd">pnat.gcd</a> a b</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_rel_left'">      <h4>pnat.gcd_rel_left'</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_z">pnat.gcd_z</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_a'">pnat.gcd_a'</a> a b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_x">pnat.gcd_x</a> a b * ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_b'">pnat.gcd_b'</a> a b))</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_rel_right'">      <h4>pnat.gcd_rel_right'</h4><code>∀ (a b : ℕ+), <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_w">pnat.gcd_w</a> a b * <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_b'">pnat.gcd_b'</a> a b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#nat.succ_pnat">nat.succ_pnat</a> (<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_y">pnat.gcd_y</a> a b * ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_a'">pnat.gcd_a'</a> a b))</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_rel_left">      <h4>pnat.gcd_rel_left</h4><code>∀ (a b : ℕ+), ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_z">pnat.gcd_z</a> a b) * ↑a = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_x">pnat.gcd_x</a> a b * ↑b + ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#pnat.gcd">pnat.gcd</a> a b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div><div class="entry"><a id="pnat.gcd_rel_right">      <h4>pnat.gcd_rel_right</h4><code>∀ (a b : ℕ+), ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_w">pnat.gcd_w</a> a b) * ↑b = <a href="https://robertylewis.com/mathlib_docs/data/pnat/xgcd.html#pnat.gcd_y">pnat.gcd_y</a> a b * ↑a + ↑(<a href="https://robertylewis.com/mathlib_docs/data/pnat/basic.html#pnat.gcd">pnat.gcd</a> a b)</code>
<div class="indent"><p><p></p>
</p>       </div>
</div></body></html>