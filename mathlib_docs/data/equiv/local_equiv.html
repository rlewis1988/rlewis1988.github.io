<!DOCTYPE html><html lang="en"><head><title>data.equiv.local_equiv</title><meta charset="UTF-8"><link rel="stylesheet" href="/home/rob/lean/mathlib/scripts/html_out/style.css"></head><body><div class="nav"><div class="title">mathlib API docs</div><a href="/home/rob/lean/mathlib/scripts/html_out/index.html">root</a>/<br><a href="/home/rob/lean/mathlib/scripts/html_out/data/index.html">data</a>/<br><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/index.html">equiv</a>/<br><a href="local_equiv.html">local_equiv</a></div><div class="mod_doc"><h1>Local equivalences</h1>

<p>This files defines equivalences between subsets of given types.
An element <code>e</code> of <code>local_equiv α β</code> is made of two maps <code>e.to_fun</code> and <code>e.inv_fun</code> respectively
from α to β and from  β to α (just like equivs), which are inverse to each other on the subsets
<code>e.source</code> and <code>e.target</code> of respectively α and β.</p>

<p>They are designed in particular to define charts on manifolds.</p>

<p>The main functionality is <code>e.trans f</code>, which composes the two local equivalences by restricting
the source and target to the maximal set where the composition makes sense.</p>

<p>Contrary to equivs, we do not register the coercion to functions and we use explicitly to_fun and
inv_fun: coercions create numerous unification problems for manifolds.</p>

<h2>Main definitions</h2>

<p><code>equiv.to_local_equiv</code>: associating a local equiv to an equiv, with source = target = univ
<code>local_equiv.symm</code>    : the inverse of a local equiv
<code>local_equiv.trans</code>   : the composition of two local equivs
<code>local_equiv.refl</code>    : the identity local equiv
<code>local_equiv.of_set</code>  : the identity on a set <code>s</code>
<code>eq_on_source</code>        : equivalence relation describing the "right" notion of equality for local
                        equivs (see below in implementation notes)</p>

<h2>Implementation notes</h2>

<p>There are at least three possible implementations of local equivalences:</p>

<ul>
<li>equivs on subtypes</li>
<li>pairs of functions taking values in <code>option α</code> and <code>option β</code>, equal to none where the local
equivalence is not defined</li>
<li>pairs of functions defined everywhere, keeping the source and target as additional data</li>
</ul>

<p>Each of these implementations has pros and cons.</p>

<ul>
<li>When dealing with subtypes, one still need to define additional API for composition and
restriction of domains. Checking that one always belongs to the right subtype makes things very
tedious, and leads quickly to DTT hell (as the subtype <code>u ∩ v</code> is not the "same" as <code>v ∩ u</code>, for
instance).</li>
<li>With option-valued functions, the composition is very neat (it is just the usual composition, and
the domain is restricted automatically). These are implemented in <code>pequiv.lean</code>. For manifolds,
where one wants to discuss thoroughly the smoothness of the maps, this creates however a lot of
overhead as one would need to extend all classes of smoothness to option-valued maps.</li>
<li>The local_equiv version as explained above is easier to use for manifolds. The drawback is that
there is extra useless data (the values of <code>to_fun</code> and <code>inv_fun</code> outside of <code>source</code> and <code>target</code>).
In particular, the equality notion between local equivs is not "the right one", i.e., coinciding
source and target and equality there. Moreover, there are no local equivs in this sense between
an empty type and a nonempty type. Since empty types are not that useful, and since one almost never
needs to talk about equal local equivs, this is not an issue in practice.
Still, we introduce an equivalence relation <code>eq_on_source</code> that captures this right notion of
equality, and show that many properties are invariant under this equivalence relation.</li>
</ul>
</div><div class="cnst"><a id="local_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L70">local_equiv</a></span> <span class="decl_args">(α : Type u_5)</span> <span class="decl_args">(β : Type u_6)</span> <span class="decl_args">:</span>       <div class="decl_type">Type (<a href="/home/rob/lean/mathlib/scripts/html_out/core/init/algebra/functions.html#max">max</a> u_5 u_6)</div>
<div class="indent"><p>Local equivalence between subsets <code>source</code> and <code>target</code> of α and β respectively. The (global)
maps <code>to_fun : α → β</code> and <code>inv_fun : β → α</code> map <code>source</code> to <code>target</code> and conversely, and are inverse
to each other there. The values of <code>to_fun</code> outside of <code>source</code> and of <code>inv_fun</code> outside of <code>target</code>
are irrelevant.</p>
       </div>
</div><div class="def"><a id="equiv.to_local_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L83">equiv.to_local_equiv</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β</div>
<div class="indent"><p>Associating a local_equiv to an equiv</p>
       </div>
</div><div class="def"><a id="local_equiv.to_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L98">local_equiv.to_equiv</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">↥(e.source) ≃ ↥(e.target)</div>
<div class="indent"><p>Associating to a local_equiv an equiv between the source and the target</p>
       </div>
</div><div class="def"><a id="local_equiv.symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L105">local_equiv.symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β α</div>
<div class="indent"><p>The inverse of a local equiv</p>
       </div>
</div><div class="thm"><a id="local_equiv.symm_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L115">local_equiv.symm_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e).to_fun = e.inv_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.symm_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L116">local_equiv.symm_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e).inv_fun = e.to_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.symm_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L117">local_equiv.symm_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e).source = e.target</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.symm_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L118">local_equiv.symm_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e).target = e.source</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.symm_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L119">local_equiv.symm_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e) = e</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.bij_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L122">local_equiv.bij_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/set/function.html#set.bij_on">set.bij_on</a> (e.to_fun) (e.source) (e.target)</div>
<div class="indent"><p>A local equiv induces a bijection between its source and target</p>
       </div>
</div><div class="thm"><a id="local_equiv.image_eq_target_inter_inv_preimage"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L125">local_equiv.image_eq_target_inter_inv_preimage</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">{s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">(h : s ⊆ e.source)</span> <span class="decl_args">:</span>       <div class="decl_type">e.to_fun '' s = e.target ∩ e.inv_fun ⁻¹' s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.inv_image_eq_source_inter_preimage"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L139">local_equiv.inv_image_eq_source_inter_preimage</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">{s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> β}</span> <span class="decl_args">(h : s ⊆ e.target)</span> <span class="decl_args">:</span>       <div class="decl_type">e.inv_fun '' s = e.source ∩ e.to_fun ⁻¹' s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.source_inter_preimage_inv_preimage"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L143">local_equiv.source_inter_preimage_inv_preimage</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">e.source ∩ e.to_fun ⁻¹' (e.inv_fun ⁻¹' s) = e.source ∩ s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.target_inter_inv_preimage_preimage"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L154">local_equiv.target_inter_inv_preimage_preimage</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.target ∩ e.inv_fun ⁻¹' (e.to_fun ⁻¹' s) = e.target ∩ s</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.image_source_eq_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L158">local_equiv.image_source_eq_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.to_fun '' e.source = e.target</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.source_subset_preimage_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L161">local_equiv.source_subset_preimage_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.source ⊆ e.to_fun ⁻¹' e.target</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.inv_image_target_eq_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L164">local_equiv.inv_image_target_eq_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.inv_fun '' e.target = e.source</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.target_subset_preimage_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L167">local_equiv.target_subset_preimage_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.target ⊆ e.inv_fun ⁻¹' e.source</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.ext"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L172">local_equiv.ext</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(h : ∀ (x : α), e.to_fun x = e'.to_fun x)</span> <span class="decl_args">(hsymm : ∀ (x : β), e.inv_fun x = e'.inv_fun x)</span> <span class="decl_args">(hs : e.source = e'.source)</span> <span class="decl_args">:</span>       <div class="decl_type">e = e'</div>
<div class="indent"><p>Two local equivs that have the same source, same to_fun and same inv_fun, coincide.</p>
       Attributes: ext</div>
</div><div class="def"><a id="local_equiv.restr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L185">local_equiv.restr</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β</div>
<div class="indent"><p>Restricting a local equivalence to e.source ∩ s</p>
       </div>
</div><div class="thm"><a id="local_equiv.restr_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L207">local_equiv.restr_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s).to_fun = e.to_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.restr_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L208">local_equiv.restr_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s).inv_fun = e.inv_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.restr_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L209">local_equiv.restr_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s).source = e.source ∩ s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.restr_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L210">local_equiv.restr_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s).target = e.target ∩ e.inv_fun ⁻¹' s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.restr_eq_of_source_subset"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L212">local_equiv.restr_eq_of_source_subset</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">{s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">(h : e.source ⊆ s)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s = e</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.restr_univ"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L216">local_equiv.restr_univ</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a> = e</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="local_equiv.refl"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L220">local_equiv.refl</a></span> <span class="decl_args">(α : Type u_1)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α α</div>
<div class="indent"><p>The identity local equiv</p>
       </div>
</div><div class="thm"><a id="local_equiv.refl_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L222">local_equiv.refl_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α).source = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L223">local_equiv.refl_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α).target = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L224">local_equiv.refl_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α).to_fun = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L225">local_equiv.refl_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α).inv_fun = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L226">local_equiv.refl_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_restr_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L228">local_equiv.refl_restr_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α) s).source = s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_restr_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L231">local_equiv.refl_restr_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α) s).target = s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="local_equiv.of_set"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L235">local_equiv.of_set</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α α</div>
<div class="indent"><p>The identity local equiv on a set <code>s</code></p>
       </div>
</div><div class="thm"><a id="local_equiv.of_set_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L245">local_equiv.of_set_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s).source = s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.of_set_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L246">local_equiv.of_set_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s).target = s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.of_set_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L247">local_equiv.of_set_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s).to_fun = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.of_set_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L248">local_equiv.of_set_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α}</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s).inv_fun = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/logic.html#id">id</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.of_set_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L249">local_equiv.of_set_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> s</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="def"><a id="local_equiv.trans'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L253">local_equiv.trans'</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">(h : e.target = e'.source)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α γ</div>
<div class="indent"><p>Composing two local equivs if the target of the first coincides with the source of the
second.</p>
       </div>
</div><div class="def"><a id="local_equiv.trans"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L284">local_equiv.trans</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α γ</div>
<div class="indent"><p>Composing two local equivs, by restricting to the maximal domain where their composition
is well defined.</p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L287">local_equiv.trans_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').to_fun = e'.to_fun ∘ e.to_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.trans_apply"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L288">local_equiv.trans_apply</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">(x : α)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').to_fun x = e'.to_fun (e.to_fun x)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.trans_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L289">local_equiv.trans_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').inv_fun = e.inv_fun ∘ e'.inv_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.trans_inv_apply"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L290">local_equiv.trans_inv_apply</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">(x : γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').inv_fun x = e.inv_fun (e'.inv_fun x)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.trans_symm_eq_symm_trans_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L292">local_equiv.trans_symm_eq_symm_trans_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e') = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e') (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L297">local_equiv.trans_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').source = e.source ∩ e.to_fun ⁻¹' e'.source</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_source'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L299">local_equiv.trans_source'</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').source = e.source ∩ e.to_fun ⁻¹' (e.target ∩ e'.source)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_source''"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L310">local_equiv.trans_source''</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').source = e.inv_fun '' (e.target ∩ e'.source)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.image_trans_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L316">local_equiv.image_trans_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">e.to_fun '' (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').source = e.target ∩ e'.source</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L319">local_equiv.trans_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').target = e'.target ∩ e'.inv_fun ⁻¹' e.target</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_target'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L321">local_equiv.trans_target'</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').target = e'.target ∩ e'.inv_fun ⁻¹' (e'.source ∩ e.target)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_target''"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L324">local_equiv.trans_target''</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').target = e'.to_fun '' (e'.source ∩ e.target)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.inv_image_trans_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L327">local_equiv.inv_image_trans_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">:</span>       <div class="decl_type">e'.inv_fun '' (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e').target = e'.source ∩ e.target</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_assoc"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L330">local_equiv.trans_assoc</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">(e'' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e') e'' = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e' e'')</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_refl"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L333">local_equiv.trans_refl</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> β) = e</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.refl_trans"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L336">local_equiv.refl_trans</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α) e = e</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.trans_refl_restr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L339">local_equiv.trans_refl_restr</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> β) s) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e (e.to_fun ⁻¹' s)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_refl_restr'"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L343">local_equiv.trans_refl_restr'</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> β) s) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e (e.source ∩ e.to_fun ⁻¹' s)</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.restr_trans"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L347">local_equiv.restr_trans</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ)</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s) e' = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e e') s</div>
<div class="indent"><p></p>
       </div>
</div><div class="def"><a id="local_equiv.eq_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L353">local_equiv.eq_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">Prop</div>
<div class="indent"><p><code>eq_on_source e e'</code> means that <code>e</code> and <code>e'</code> have the same source, and coincide there. Then <code>e</code>
and <code>e'</code> should really be considered the same local equiv.</p>
       </div>
</div><div class="def"><a id="local_equiv.eq_on_source_setoid"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L357">local_equiv.eq_on_source_setoid</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/setoid.html#setoid">setoid</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</div>
<div class="indent"><p><code>eq_on_source</code> is an equivalence relation</p>
       Attributes: instance</div>
</div><div class="thm"><a id="local_equiv.eq_on_source_refl"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L364">local_equiv.eq_on_source_refl</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type">e ≈ e</div>
<div class="indent"><p></p>
       </div>
</div><div class="thm"><a id="local_equiv.eq_on_source_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L367">local_equiv.eq_on_source_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e ≈ <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e'</div>
<div class="indent"><p>If two local equivs are equivalent, so are their inverses</p>
       </div>
</div><div class="thm"><a id="local_equiv.source_eq_of_eq_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L386">local_equiv.source_eq_of_eq_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">:</span>       <div class="decl_type">e.source = e'.source</div>
<div class="indent"><p>Two equivalent local equivs have the same source</p>
       </div>
</div><div class="thm"><a id="local_equiv.target_eq_of_eq_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L390">local_equiv.target_eq_of_eq_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">:</span>       <div class="decl_type">e.target = e'.target</div>
<div class="indent"><p>Two equivalent local equivs have the same target</p>
       </div>
</div><div class="thm"><a id="local_equiv.apply_eq_of_eq_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L394">local_equiv.apply_eq_of_eq_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">{x : α}</span> <span class="decl_args">(hx : x ∈ e.source)</span> <span class="decl_args">:</span>       <div class="decl_type">e.to_fun x = e'.to_fun x</div>
<div class="indent"><p>Two equivalent local equivs coincide on the source</p>
       </div>
</div><div class="thm"><a id="local_equiv.inv_apply_eq_of_eq_on_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L399">local_equiv.inv_apply_eq_of_eq_on_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">{x : β}</span> <span class="decl_args">(hx : x ∈ e.target)</span> <span class="decl_args">:</span>       <div class="decl_type">e.inv_fun x = e'.inv_fun x</div>
<div class="indent"><p>Two equivalent local equivs have coinciding inverses on the target</p>
       </div>
</div><div class="thm"><a id="local_equiv.eq_on_source_trans"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L404">local_equiv.eq_on_source_trans</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">{f f' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> β γ}</span> <span class="decl_args">(he : e ≈ e')</span> <span class="decl_args">(hf : f ≈ f')</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e f ≈ <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e' f'</div>
<div class="indent"><p>Composition of local equivs respects equivalence</p>
       </div>
</div><div class="thm"><a id="local_equiv.eq_on_source_restr"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L417">local_equiv.eq_on_source_restr</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(he : e ≈ e')</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> α)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e s ≈ <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.restr">local_equiv.restr</a> e' s</div>
<div class="indent"><p>Restriction of local equivs respects equivalence</p>
       </div>
</div><div class="thm"><a id="local_equiv.eq_on_source_preimage"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L428">local_equiv.eq_on_source_preimage</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β}</span> <span class="decl_args">(he : e ≈ e')</span> <span class="decl_args">(s : <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set">set</a> β)</span> <span class="decl_args">:</span>       <div class="decl_type">e.source ∩ e.to_fun ⁻¹' s = e'.source ∩ e'.to_fun ⁻¹' s</div>
<div class="indent"><p>Preimages are respected by equivalence</p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_self_symm"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L446">local_equiv.trans_self_symm</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> e (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e) ≈ <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> (e.source)</div>
<div class="indent"><p>Composition of a local equiv and its inverse is equivalent to the restriction of the identity
to the source</p>
       </div>
</div><div class="thm"><a id="local_equiv.trans_symm_self"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L458">local_equiv.trans_symm_self</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> e) e ≈ <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.of_set">local_equiv.of_set</a> (e.target)</div>
<div class="indent"><p>Composition of the inverse of a local equiv and this local equiv is equivalent to the
restriction of the identity to the target</p>
       </div>
</div><div class="thm"><a id="local_equiv.eq_of_eq_on_source_univ"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L463">local_equiv.eq_of_eq_on_source_univ</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(h : e ≈ e')</span> <span class="decl_args">(s : e.source = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a>)</span> <span class="decl_args">(t : e.target = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a>)</span> <span class="decl_args">:</span>       <div class="decl_type">e = e'</div>
<div class="indent"><p>Two equivalent local equivs are equal when the source and target are univ</p>
       </div>
</div><div class="def"><a id="local_equiv.prod"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L478">local_equiv.prod</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> (α × γ) (β × δ)</div>
<div class="indent"><p>The product of two local equivs, as a local equiv on the product.</p>
       </div>
</div><div class="thm"><a id="local_equiv.prod_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L488">local_equiv.prod_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.prod">local_equiv.prod</a> e e').source = <a href="/home/rob/lean/mathlib/scripts/html_out/data/set/basic.html#set.prod">set.prod</a> (e.source) (e'.source)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.prod_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L491">local_equiv.prod_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.prod">local_equiv.prod</a> e e').target = <a href="/home/rob/lean/mathlib/scripts/html_out/data/set/basic.html#set.prod">set.prod</a> (e.target) (e'.target)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.prod_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L494">local_equiv.prod_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.prod">local_equiv.prod</a> e e').to_fun = λ (p : α × γ), (e.to_fun (p.fst), e'.to_fun (p.snd))</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="local_equiv.prod_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L497">local_equiv.prod_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">{δ : Type u_4}</span> <span class="decl_args">(e : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> α β)</span> <span class="decl_args">(e' : <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv">local_equiv</a> γ δ)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.prod">local_equiv.prod</a> e e').inv_fun = λ (p : β × δ), (e.inv_fun (p.fst), e'.inv_fun (p.snd))</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.to_local_equiv_to_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L509">equiv.to_local_equiv_to_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e).to_fun = e.to_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.to_local_equiv_inv_fun"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L510">equiv.to_local_equiv_inv_fun</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e).inv_fun = e.inv_fun</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.to_local_equiv_source"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L511">equiv.to_local_equiv_source</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e).source = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.to_local_equiv_target"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L512">equiv.to_local_equiv_target</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type">(<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e).target = <a href="/home/rob/lean/mathlib/scripts/html_out/core/init/data/set.html#set.univ">set.univ</a></div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.refl_to_local_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L513">equiv.refl_to_local_equiv</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/basic.html#equiv.refl">equiv.refl</a> α) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.refl">local_equiv.refl</a> α</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.symm_to_local_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L514">equiv.symm_to_local_equiv</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/basic.html#equiv.symm">equiv.symm</a> e) = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.symm">local_equiv.symm</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e)</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div><div class="thm"><a id="equiv.trans_to_local_equiv"></a>      <span class="decl_name"><a href="https://github.com/leanprover-community/mathlib/blob/886b15b5ea473ae51ed90de31b05f23de00be10d/src/data/equiv/local_equiv.lean#L515">equiv.trans_to_local_equiv</a></span> <span class="decl_args">{α : Type u_1}</span> <span class="decl_args">{β : Type u_2}</span> <span class="decl_args">{γ : Type u_3}</span> <span class="decl_args">(e : α ≃ β)</span> <span class="decl_args">(e' : β ≃ γ)</span> <span class="decl_args">:</span>       <div class="decl_type"><a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/basic.html#equiv.trans">equiv.trans</a> e e') = <a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#local_equiv.trans">local_equiv.trans</a> (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e) (<a href="/home/rob/lean/mathlib/scripts/html_out/data/equiv/local_equiv.html#equiv.to_local_equiv">equiv.to_local_equiv</a> e')</div>
<div class="indent"><p></p>
       Attributes: simp</div>
</div></body></html>