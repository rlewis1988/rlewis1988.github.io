<!DOCTYPE html><html lang="en"><head><title>meta.rb_map</title><meta charset="UTF-8"><link rel="stylesheet" href="https://robertylewis.com/mathlib_docs/style.css"></head><body><div class="mod_doc"><h1>rb_map</h1>

<p>This file defines additional operations on native rb<em>maps and rb</em>sets.
These structures are defined in core in <code>init.meta.rb_map</code>. They are meta objects,
and are generally the most efficient dictionary structures to use for pure metaprogramming right now.</p>
</div><div class="def"><a id="native.rb_set.filter"></a>      <h4>native.rb_set.filter</h4><code>Π {key : Type}, <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key → (key → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key</code>
<div class="indent"><p><code>filter s P</code> returns the subset of elements of <code>s</code> satisfying <code>P</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_set.mfilter"></a>      <h4>native.rb_set.mfilter</h4><code>Π {m : Type → Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> m] {key : Type},
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key → (key → m <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>) → m (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key)</code>
<div class="indent"><p><code>mfilter s P</code> returns the subset of elements of <code>s</code> satisfying <code>P</code>,
where the check <code>P</code> is monadic.</p>
       </div>
</div><div class="def"><a id="native.rb_set.union"></a>      <h4>native.rb_set.union</h4><code>Π {key : Type}, <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_set">native.rb_set</a> key</code>
<div class="indent"><p><code>union s t</code> returns an rb_set containing every element that appears in either <code>s</code> or <code>t</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_map.find_def"></a>      <h4>native.rb_map.find_def</h4><code>Π {key value : Type}, value → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → key → value</code>
<div class="indent"><p><code>find_def default m k</code> returns the value corresponding to <code>k</code> in <code>m</code>, if it exists.
Otherwise it returns <code>default</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_map.ifind"></a>      <h4>native.rb_map.ifind</h4><code>Π {key value : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/logic.html#inhabited">inhabited</a> value], <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → key → value</code>
<div class="indent"><p><code>ifind m key</code> returns the value corresponding to <code>key</code> in <code>m</code>, if it exists.
Otherwise it returns the default value of <code>value</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_map.zfind"></a>      <h4>native.rb_map.zfind</h4><code>Π {key value : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_zero">has_zero</a> value], <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → key → value</code>
<div class="indent"><p><code>zfind m key</code> returns the value corresponding to <code>key</code> in <code>m</code>, if it exists.
Otherwise it returns 0.</p>
       </div>
</div><div class="def"><a id="native.rb_map.add"></a>      <h4>native.rb_map.add</h4><code>Π {key value : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_add">has_add</a> value] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_zero">has_zero</a> value] [_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_eq">decidable_eq</a> value],
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value</code>
<div class="indent"><p>Returns the pointwise sum of <code>m1</code> and <code>m2</code>, treating nonexistent values as 0.</p>
       </div>
</div><div class="def"><a id="native.rb_map.mfilter"></a>      <h4>native.rb_map.mfilter</h4><code>Π {m : Type → Type u_1} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> m] {key val : Type} [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_lt">has_lt</a> key]
[_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_rel">decidable_rel</a> has_lt.lt], (key → val → m <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key val → m (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key val)</code>
<div class="indent"><p><code>mfilter P s</code> filters <code>s</code> by the monadic predicate <code>P</code> on keys and values.</p>
       </div>
</div><div class="def"><a id="native.rb_map.mmap"></a>      <h4>native.rb_map.mmap</h4><code>Π {m : Type → Type u_1} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> m] {key val val' : Type} [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_lt">has_lt</a> key]
[_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_rel">decidable_rel</a> has_lt.lt], (val → m val') → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key val → m (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key val')</code>
<div class="indent"><p><code>mmap f s</code> maps the monadic function <code>f</code> over values in <code>s</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_map.scale"></a>      <h4>native.rb_map.scale</h4><code>Π {key value : Type} [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_lt">has_lt</a> key] [_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_rel">decidable_rel</a> has_lt.lt] [_inst_4 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_mul">has_mul</a> value],
  value → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key value</code>
<div class="indent"><p><code>scale b m</code> multiplies every value in <code>m</code> by <code>b</code>.</p>
       </div>
</div><div class="def"><a id="native.rb_map.has_to_tactic_format"></a>      <h4>native.rb_map.has_to_tactic_format</h4><code>Π {key data : Type} [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#has_to_tactic_format">has_to_tactic_format</a> key] [_inst_3 : <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#has_to_tactic_format">has_to_tactic_format</a> data],
  <a href="https://robertylewis.com/mathlib_docs/core/init/meta/tactic.html#has_to_tactic_format">has_to_tactic_format</a> (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_map">native.rb_map</a> key data)</code>
<div class="indent"><p></p>
       Attributes: instance</div>
</div><div class="def"><a id="native.rb_lmap.of_list"></a>      <h4>native.rb_lmap.of_list</h4><code>Π {key data : Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#has_lt">has_lt</a> key] [_inst_2 : <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#decidable_rel">decidable_rel</a> has_lt.lt],
  <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> (key × data) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#native.rb_lmap">native.rb_lmap</a> key data</code>
<div class="indent"><p>Construct a rb_lmap from a list of key-data pairs</p>
       </div>
</div><div class="def"><a id="name_set.filter"></a>      <h4>name_set.filter</h4><code>(<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></code>
<div class="indent"><p><code>filter P s</code> returns the subset of elements of <code>s</code> satisfying <code>P</code>.</p>
       </div>
</div><div class="def"><a id="name_set.mfilter"></a>      <h4>name_set.mfilter</h4><code>Π {m : Type → Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> m], (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → m <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#bool">bool</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → m <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></code>
<div class="indent"><p><code>mfilter P s</code> returns the subset of elements of <code>s</code> satisfying <code>P</code>,
where the check <code>P</code> is monadic.</p>
       </div>
</div><div class="def"><a id="name_set.mmap"></a>      <h4>name_set.mmap</h4><code>Π {m : Type → Type} [_inst_1 : <a href="https://robertylewis.com/mathlib_docs/core/init/category/monad.html#monad">monad</a> m], (<a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → m <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a>) → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → m <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></code>
<div class="indent"><p><code>mmap f s</code> maps the monadic function <code>f</code> over values in <code>s</code>.</p>
       </div>
</div><div class="def"><a id="name_set.union"></a>      <h4>name_set.union</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></code>
<div class="indent"><p><code>union s t</code> returns an rb_set containing every element that appears in either <code>s</code> or <code>t</code>.</p>
       </div>
</div><div class="def"><a id="name_set.insert_list"></a>      <h4>name_set.insert_list</h4><code><a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/core.html#list">list</a> <a href="https://robertylewis.com/mathlib_docs/core/init/meta/name.html#name">name</a> → <a href="https://robertylewis.com/mathlib_docs/core/init/meta/rb_map.html#name_set">name_set</a></code>
<div class="indent"><p><code>insert_list s l</code> inserts every element of <code>l</code> into <code>s</code>.</p>
       </div>
</div></body></html>