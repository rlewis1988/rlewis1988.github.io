<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://robertylewis.com/mathlib//css/lean.css" >
  <link rel="shortcut icon" href="https://robertylewis.com/mathlib//img/favicon.ico">
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@600&family=Open+Sans&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    

	<script>
                function buildShortcutsForStructures(names) {
                        const o = {}
                        names.forEach(name => o[name] = `\\mathbb\{${name}\}`)
                        return o
                }
		MathJax = {
			  tex: {
                                  macros: {
                                          ...buildShortcutsForStructures(["R", "Q", "Z", "N", "C"]),
                                  },
				      inlineMath: [['$', '$'], ['\\(', '\\)']]
				    },
		};
	</script>
	<script type="text/javascript" id="MathJax-script" async
		  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
	</script>

	<title>Minimal working examples</title>
  </head>
  <body>
  <nav class="navbar navbar-expand-lg navbar-light bg-gradient-light d-md-none">
    <div class="d-flex flex-grow-1">
		<a class="navbar-brand" href="https://robertylewis.com/mathlib/index.html">Lean Community
    </a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </nav>
  <div class="container-fluid"><div class="row">
    <nav id="navbar" class="col-md-3 col-xl-2 d-md-block bg-light sidebar collapse navbar-light pb-4">
      <div class="d-none d-md-block"><a class="navbar-brand" href="https://robertylewis.com/mathlib/index.html">Lean Community</a></div>
      <div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Installation</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/get_started.html">Get started</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/install/linux.html">Linux installation</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/install/debian.html">Debian installation</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/install/macos.html">MacOS installation</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/install/windows.html">Windows installation</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://leanprover-community.github.io/lean-web-editor">Online version (no installation)</a></li>
        </ul>
      </div><div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Documentation</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/learn.html">Big list of docs (start here)</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/extras/calc.html">calc mode</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/extras/conv.html">conv mode</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/extras/simp.html">simplifier</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/extras/tactic_writing.html">tactic writing tutorial</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/extras/well_founded_recursion.html">well-founded recursion</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/leanproject.html">leanproject</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/toolchain.html">How pieces fit together</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/mwe.html">About MWEs</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://leanprover-community.github.io/mathlib_docs">API documentation</a></li>
        </ul>
      </div><div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Library overviews</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/mathlib-overview.html">Library overview</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/100.html">Wiedijk's 100 theorems</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/undergrad.html">Undergraduate maths</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/lean_projects.html">Other Lean projects</a></li>
        </ul>
      </div><div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Theory docs</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/category_theory.html">Category theory</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/linear_algebra.html">Linear algebra</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/naturals.html">Natural numbers</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/padics.html">p-adic numbers</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/sets.html">Sets and set-like objects</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/theories/topology.html">Topology</a></li>
        </ul>
      </div><div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Contributing</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/contribute/index.html">Pull request lifecycle</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/contribute/naming.html">Naming conventions</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/contribute/style.html">Code style guideline</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/contribute/doc.html">Documentation style</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/ci.html">CI for 3rd party projects</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/mathlib_stats.html">Contribution statistics</a></li>
        </ul>
      </div><div>
        <h6 class="sidebar-heading px-3 mt-4 mb-1">Community</h6>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/meet.html">Maintainers</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://robertylewis.com/mathlib/papers.html">Papers about Lean</a></li>
        
          <li class="nav-item"><a class="d-block" href="https://leanprover.zulipchat.com/">Zulip chat</a></li>
        </ul>
      </div>
    </nav>
  <main class="col-md-9 col-xl-8 px-md-4">
    <div class="mt-5 mx-auto" style="max-width: 60em">
	  
<h1 id="minimal-working-examples" class="markdown-heading">Minimal working examples <a class="hover-link" href="#minimal-working-examples">#</a></h1>
<h2 id="tldr" class="markdown-heading">tl;dr <a class="hover-link" href="#tldr">#</a></h2>
<p>When posting code on Zulip, please include all <code>import</code>s and <code>open</code>s and <code>universe</code>s and <code>variable</code>s, so others can simply just cut and paste what you post, and see the same issue that you are seeing. The best way to ensure you have done this is to make a completely new Lean file containing only what you are proposing to post, and checking that it compiles.</p>
<p>Bad example:</p>
<div class="highlight"><pre><span></span>#check (univ : set X)
</pre></div>

<p>Good example:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">data.set.basic</span>

<span class="n">universe</span> <span class="n">u</span>

<span class="n">variable</span> <span class="p">(</span><span class="n">X</span> <span class="p">:</span> <span class="n">Type</span> <span class="n">u</span><span class="p">)</span>

<span class="nb">open</span> <span class="nb">set</span>

<span class="c1">#check (univ : set X)</span>
</pre></div>

<p>Tip: If you are using <a href="https://github.com/leanprover-community/mathlib">Mathlib</a> and have <code>import tactic</code> in your file, there's a tactic called <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#extract_goal"><code>extract_goal</code></a> that can help you format the current goal as a stand-alone example. You can remove extraneous variables and hypotheses from the output of <code>extract_goal</code> to further minimize your example.</p>
<p>Note you still need to include the corresponding <code>import</code>s and <code>open</code>s and <code>universe</code>s and <code>variable</code>s as mentioned above.</p>
<h2 id="formal-definition" class="markdown-heading">Formal Definition <a class="hover-link" href="#formal-definition">#</a></h2>
<p>A <strong>minimal working example</strong> is a code snippet that can be copied-and-pasted into an empty Lean file and still have the same features (working) and that does not include unnecessary details (minimal).</p>
<p><a href="https://stackoverflow.com/help/minimal-reproducible-example">Here</a> is the StackOverflow guide to making MWEs.</p>
<p>Please make sure that your code snippet has:</p>
<ul>
<li>correct imports; and</li>
<li>all the relevant definitions / theorems.</li>
</ul>
<p>It is fine for your example to throw compiler errors or warnings. In particular, it is fine for your code to contain the keyword <code>sorry</code> (and indeed, replacing irrelevant proofs with <code>sorry</code> is a good way of minimizing your example). The point of MWE is that your code should <em>throw the same errors in a blank file as it does for you</em>, that way people can help you with exactly the error you are confused about.</p>
<h2 id="how-do-i-know-if-my-code-is-a-mwe" class="markdown-heading">How do I know if my code is a MWE? <a class="hover-link" href="#how-do-i-know-if-my-code-is-a-mwe">#</a></h2>
<p>You should <em>test</em> this by making a new Lean file, pasting your code snippet into it, and seeing if you get the expected behavior. This is exactly what people who try to help you will do!</p>
<h2 id="what-if-im-asking-about-the-a-hrefhttpswwwfimperialacukbuzzardxenanatural_number_gamenatural-number-gamea" class="markdown-heading">What if I'm asking about the <a href="https://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/">Natural Number Game</a>? <a class="hover-link" href="#what-if-im-asking-about-the-a-hrefhttpswwwfimperialacukbuzzardxenanatural_number_gamenatural-number-gamea">#</a></h2>
<p>If your example comes from the Natural Number Game or any such browser-based Lean demo, then you can add a link to the webpage instead of finding the correct imports. So for example it would be much more useful to say &quot;I am on <a href="https://wwwf.imperial.ac.uk/~buzzard/xena/natural_number_game/?world=9&amp;level=4">this level</a> of the Natural Number Game and my proof script is <em>blah</em>&quot;, rather than &quot;I am on Advanced Multiplication World Level 4 of the Natural Number Game and my proof script is <em>blah</em>&quot;.</p>
<p>If you post a code snippet on Zulip, please make sure it is surrounded in triple backticks.</p>
<div class="highlight"><pre><span></span>```
def my_nat : nat := 5
```
</pre></div>

<h2 id="tips-for-minimizing-code" class="markdown-heading">Tips for minimizing code <a class="hover-link" href="#tips-for-minimizing-code">#</a></h2>
<ul>
<li>
<p>For the purposes of making a MWE, you can replace all proofs of <code>theorem</code>s and <code>lemma</code>s (outside of the one you're working on) with <code>sorry</code>. Lean will give you extra warnings, but these are harmless.</p>
</li>
<li>
<p>Remove all declarations (<code>def</code>s, <code>theorem</code>s, <code>lemma</code>s, <code>example</code>s, etc.) that are irrelevant to the issue you're seeing. In general, if you can comment out some code without throwing errors, then it can be removed.</p>
</li>
<li>
<p>After deleting some code, you can then delete all the declarations that were only referenced there. By repeating this process a few times, you may be able to shorten a long file to just a few lines.</p>
</li>
</ul>

    </div>
  </main>

<div class="container-fluid">
  <nav class="footer navbar navbar-expand-lg navbar-light bg-light justify-content-end">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link active" href="https://github.com/leanprover-community/leanprover-community.github.io/blob/newsite/templates/mwe.md">Suggest edits to this page on GitHub</a>
    </li>
  </ul>
  </nav>
</div>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://robertylewis.com/mathlib//js/bootstrap.min.js"></script>
    
  </body>
</html>